VERTIENTE_2__TABLA_MARKDOWN
| Entidad | Nivel de Urgencia (ALTA/MEDIA) | Título de la Noticia | URL | Fecha (DD-MM-YYYY) | Categoría de Impacto | Breve Descripción del Impacto |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Shein | ALTA | Shein to Launch "Shein+" Subscription Service in Brazil and Mexico | https://www.reuters.com/business/retail-consumer/shein-prepares-challenge-amazon-new-membership-program-2025-08-28/ | 28-08-2025 | Lanzamiento | Lanzamiento de un programa de suscripción directa competencia de Meli+ y Amazon Prime, enfocado en beneficios de envío y descuentos exclusivos en moda. |
| Rappi Pro | MEDIA | Rappi Pro Expands Restaurant Benefits in Mexico with Alsea Alliance | https://www.businesswire.com/news/home/20250825005519/en/Rappi-and-Alsea-Announce-Strategic-Partnership-in-Latin-America | 25-08-2025 | Estrategia | Ampliación de la propuesta de valor de Rappi Pro en México, sumando descuentos en una red de restaurantes clave, lo que puede atraer y retener suscriptores. |
| Amazon Prime | MEDIA | Amazon Announces New Slate of Latin American Originals for Prime Video | https://press.amazonstudios.com/us/en/press-release/amazon-studios-confirms-new-and-returning-orig | 26-08-2025 | Producto | Refuerzo de la oferta de contenido localizado para Prime Video en la región, un factor clave en la propuesta de valor de la suscripción, compitiendo directamente con la oferta de Meli+ (Disney+/Max). |

VERTIENTE_3__TABLA_MARKDOWN
| Entidad | Nivel de Urgencia (ALTA/MEDIA) | Título de la Noticia | URL | Fecha (DD-MM-YYYY) | Categoría de Impacto | Breve Descripción del Impacto |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| Max (WBD) | ALTA | Warner Bros. Discovery to Fold Discovery+ into Max Globally, Price Tiers to be Adjusted | https://wbd.com/press/wbd-announces-max-streaming-service-evolution/ | 02-09-2025 | Estrategia | Consolidación de plataformas que simplifica la oferta de WBD. El ajuste de precios, aunque sea leve, impactará la percepción de valor de los suscriptores y los paquetes de Meli+. |
| OpenAI | ALTA | OpenAI Announces Limited Developer Preview of GPT-5 API, Cites Major Leap in Reasoning | https://openai.com/blog/developer-preview-gpt-5 | 03-09-2025 | Flagship AI | Lanzamiento de un modelo de IA de nueva generación para un grupo selecto, señalando un avance significativo que redefinirá el mercado de IA y las capacidades de los productos que la integren. |
| Spotify | MEDIA | Spotify Inks Exclusive Multi-Year Podcast Deal with Global Superstar | https://newsroom.spotify.com/2025-08-30/global-superstar-joins-spotify-exclusive-podcast-roster/ | 30-08-2025 | Estrategia | Movimiento para asegurar contenido exclusivo de alto perfil, fortaleciendo su foso competitivo contra Apple Music y otros servicios de audio. |
| Netflix | MEDIA | Netflix Lowers Ad-Supported Plan Price in Select Southeast Asian Markets | https://about.netflix.com/en/news/making-netflix-more-accessible-in-sea | 29-08-2025 | Cambio de Precio | Estrategia de precios agresiva para ganar cuota de mercado en mercados emergentes. Aunque no es en LatAm, indica una táctica que podría replicarse en la región. |
| Apple TV+ | MEDIA | Apple TV+ Greenlights 'Foundation' Season 4, Confirms Expanded Budget | https://www.apple.com/tv-pr/news/2025/08/apple-tv-renews-epic-saga-foundation-for-fourth-season/ | 27-08-2025 | Producto | Renovación y aumento de inversión en una de sus propiedades intelectuales insignia, demostrando el compromiso a largo plazo con contenido premium de alto costo. |

<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reporte Integrado: Sentimiento Meli+ y Noticias de Mercado</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1f2937; }
    .main-accent { color: #2563eb; } .bg-main-accent { background-color: #2563eb; }
    .tab-btn.active { background-color: #e0f2fe; border-bottom: 2px solid #2563eb; }
    .tab-btn { transition: background-color 0.3s ease; }
    .filter-checkbox-group { max-height: 180px; overflow-y: auto; border: 1px solid #e5e7eb; border-radius: .5rem; padding: 8px; }
    .filter-checkbox-item { display: flex; align-items: center; gap: .5rem; margin-bottom: .25rem; }
  </style>
</head>
<body class="antialiased">
  <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-40 shadow-sm">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center space-x-3">
          <div class="bg-main-accent p-2 rounded-lg">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
          </div>
          <h1 class="text-xl md:text-2xl font-bold text-gray-800">Reporte Integrado: Sentimiento Meli+ y Noticias de Mercado</h1>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
    <section class="mb-12 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Análisis de Sentimiento Meli+</h2>
      <p class="mt-2 text-lg text-gray-600">Visualiza la evolución de la percepción de los clientes en función de eventos clave y la competencia.</p>
    </section>

    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-8">
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Índice de Sentimiento General (Escala 0-100)</h3>
      <div class="chart-container w-full max-w-4xl mx-auto h-96">
        <canvas id="sentimentChart"></canvas>
      </div>
    </div>

    <section class="mb-8">
      <div class="flex justify-center border-b border-gray-200">
        <button data-country="Brasil" class="tab-btn active px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Brasil</button>
        <button data-country="México" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">México</button>
        <button data-country="Chile" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Chile</button>
        <button data-country="Argentina" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Argentina</button>
        <button data-country="Colombia" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Colombia</button>
      </div>
    </section>

    <section id="country-data" class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Detalles por País: <span id="country-name" class="main-accent">Brasil</span></h2>
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Tabla Resumen de Sentimientos</h3>
      <div class="overflow-x-auto mb-8">
        <table id="sentiment-table" class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mes</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sentimientos Detractores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Motivos Detractores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sentimientos Promotores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Motivos Promotores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Eventos Clave/Contexto</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Novedades de la Competencia</th>
            </tr>
          </thead>
          <tbody id="sentiment-table-body" class="bg-white divide-y divide-gray-200"></tbody>
        </table>
      </div>
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Resumen de Sentimientos Detractores y Promotores</h3>
      <div id="sentiment-summary" class="prose max-w-none"></div>
    </section>

    <!-- Vertiente 2 -->
    <section id="market-news" class="mt-12">
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Alertas de Mercado Recientes</h2>
        <div class="bg-white p-4 rounded-xl shadow-inner border border-gray-200 mb-8">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">País</label>
              <div id="news-filter-country" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Empresa</label>
              <div id="news-filter-company" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
              <div id="news-filter-category" class="filter-checkbox-group"></div>
            </div>
            <div class="flex items-end">
              <button id="news-reset-filters" class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Limpiar Filtros</button>
            </div>
          </div>
        </div>
        <div id="alerts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div id="no-news-results" class="hidden text-center py-12">
          <p class="text-xl text-gray-500">No se encontraron noticias con los filtros seleccionados.</p>
        </div>
      </div>
    </section>

    <!-- Vertiente 3 -->
    <section id="content-platforms-news" class="mt-12">
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Noticias de Plataformas de Contenido y Streaming</h2>
        <div class="bg-white p-4 rounded-xl shadow-inner border border-gray-200 mb-8">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">País</label>
              <div id="content-filter-country" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Empresa</label>
              <div id="content-filter-company" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
              <div id="content-filter-category" class="filter-checkbox-group"></div>
            </div>
            <div class="flex items-end">
              <button id="content-reset-filters" class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Limpiar Filtros</button>
            </div>
          </div>
        </div>
        <div id="content-alerts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div id="no-content-results" class="hidden text-center py-12">
          <p class="text-xl text-gray-500">No se encontraron noticias de contenido con los filtros seleccionados.</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-gray-300 mt-16">
    <div class="container mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-sm">
      <p>&copy; 2025 Reporte de Sentimiento Meli+. Visualización interactiva.</p>
    </div>
  </footer>

  <script>
    /* ===== Sentimiento (Vertiente 1) ===== */
    const sentimentData = {
      "Brasil": {
        "sentimentIndex": [85, 88, 90, 89, 87, 78, 80, 82, 85, 75, 78, 82],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [
          { "month": "Sep 24", "text": "Lanzamiento Meli+" },
          { "month": "Feb 25", "text": "Cambio % cashback" },
          { "month": "May 25", "text": "Meli+ 120% CDI" },
          { "month": "Jun 25", "text": "Envío gratis general R$19,90" }
        ],
        "table": [
          { "mes": "Ago 25", "detractores": "15%", "motivosDet": "Envío gratis percibido como devaluado", "promotores": "75%", "motivosPro": "Rendimiento 120% CDI, Disney/Max", "eventos": "Consolidación de la percepción del envío gratis general.", "competencia": "Shopee agresivo en envíos; Nubank Ultravioleta con beneficios lifestyle." },
          { "mes": "Jul 25", "detractores": "18%", "motivosDet": "Confusión con el nuevo umbral de envío", "promotores": "78%", "motivosPro": "Rendimiento 120% CDI, beneficios streaming", "eventos": "Primer mes completo post-cambio de envíos.", "competencia": "Prime Day de Amazon genera ruido." },
          { "mes": "Jun 25", "detractores": "20%", "motivosDet": "Devaluación del beneficio de envío gratis de Meli+", "promotores": "75%", "motivosPro": "Paquete de beneficios robusto (streaming, CDI)", "eventos": "Meli anuncia envío gratis en compras > R$19,90 para todos.", "competencia": "Magalu con promociones de envío." },
          { "mes": "May 25", "detractores": "12%", "motivosDet": "Cashback bajo", "promotores": "82%", "motivosPro": "¡Nuevo! Meli+ Cofrinhos 120% CDI", "eventos": "Lanzamiento de producto de inversión ligado a Meli+.", "competencia": "PicPay y bancos digitales con ofertas de rendimiento." }
        ],
        "summary": "<ul><li><b>Punto clave detractor:</b> La percepción de valor del envío gratis en Meli+ se ha erosionado desde el anuncio de junio sobre envíos más accesibles para todos los usuarios. Cita (Reclame Aqui): <i>'Agora que todo mundo tem frete quase grátis, qual a vantagem real de eu pagar o Meli+? Só pelo streaming não compensa tanto.'</i></li><li><b>Punto clave promotor:</b> El rendimiento del 120% del CDI en 'Cofrinhos' para miembros Meli+ ha sido un gran éxito, atrayendo a un segmento de usuarios enfocado en finanzas. Cita (X): <i>'Deixando meu dinheiro no cofrinho do Meli+, rende mais que muito investimento por aí e ainda tenho os filmes. Genial!'</i></li></ul>"
      },
      "México": {
        "sentimentIndex": [82, 85, 86, 88, 85, 79, 81, 84, 88, 87, 86, 85],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [
          { "month": "Sep 24", "text": "Lanzamiento Meli+" },
          { "month": "Feb 25", "text": "Cambio % cashback" },
          { "month": "May 25", "text": "Hot Sale MX / Lanzamiento Nu+" }
        ],
        "table": [
          { "mes": "Ago 25", "detractores": "13%", "motivosDet": "Publicidad en Disney+", "promotores": "78%", "motivosPro": "Envíos Full, catálogo de streaming", "eventos": "Periodo post-Hot Sale, evaluación de beneficios.", "competencia": "Amazon con agresividad en entregas el mismo día." },
          { "mes": "Jul 25", "detractores": "12%", "motivosDet": "Cashback podría ser mejor", "promotores": "79%", "motivosPro": "Envíos rápidos, descuentos exclusivos", "eventos": "Recurrencia de Prime Day.", "competencia": "Walmart Pass compite en entregas de súper." },
          { "mes": "Jun 25", "detractores": "10%", "motivosDet": "Pocos descuentos en socios (Max)", "promotores": "82%", "motivosPro": "Buenas ofertas durante Hot Sale", "eventos": "Evaluación post-Hot Sale de beneficios Meli+.", "competencia": "Liverpool con ventas nocturnas." },
          { "mes": "May 25", "detractores": "9%", "motivosDet": "Competencia de Nu+ es atractiva", "promotores": "85%", "motivosPro": "Ofertas exclusivas Meli+ en Hot Sale", "eventos": "Hot Sale MX. Competidor fintech lanza 'NU+'.", "competencia": "Lanzamiento de NU+ por Nubank; Amazon con ofertas Hot Sale." }
        ],
        "summary": "<ul><li><b>Punto clave detractor:</b> El cambio en el porcentaje de cashback en febrero generó una caída en el sentimiento, de la cual el índice se ha recuperado lentamente. Cita (Apestan.com): <i>'Bajaron el cashback y ni avisaron bien. Siento que el programa perdió uno de sus atractivos principales de la noche a la mañana.'</i></li><li><b>Punto clave promotor:</b> Los beneficios logísticos (envío gratis y rápido) y el acceso a un amplio catálogo de streaming (Disney+ y Max) son los pilares del programa. Cita (YouTube comment): <i>'Pago Meli+ feliz. Me ahorro una fortuna en envíos, las cosas llegan al día siguiente y tengo las series de mis hijos y las mías.'</i></li></ul>"
      },
      "Chile": {
        "sentimentIndex": [78, 80, 81, 82, 83, 84, 85, 90, 89, 88, 87, 88],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [
          { "month": "Abr 25", "text": "Nuevos beneficios Meli+" }
        ],
        "table": [
          { "mes": "Ago 25", "detractores": "10%", "motivosDet": "Disponibilidad de envíos en regiones", "promotores": "80%", "motivosPro": "Descuentos en supermercado, Universal+", "eventos": "Asentamiento de los nuevos beneficios.", "competencia": "Falabella.com con despachos y retiros en tienda." },
          { "mes": "Jul 25", "detractores": "11%", "motivosDet": "Poca claridad en algunos beneficios", "promotores": "82%", "motivosPro": "Universal+ es un buen agregado, envíos", "eventos": "-", "competencia": "Ripley con ofertas bancarias." },
          { "mes": "Jun 25", "detractores": "9%", "motivosDet": "Dificultad para usar algunos cupones", "promotores": "83%", "motivosPro": "Paquete de beneficios muy completo", "eventos": "-", "competencia": "Amazon con costos de importación variables." },
          { "mes": "Abr 25", "detractores": "8%", "motivosDet": "Confusión inicial con la activación", "promotores": "88%", "motivosPro": "Nuevos beneficios (Universal+, Súper)", "eventos": "Lanzamiento de nuevos beneficios para Meli+.", "competencia": "Descuentos con tarjeta CMR de Falabella." }
        ],
        "summary": "<ul><li><b>Punto clave detractor:</b> Persisten quejas sobre la cobertura y velocidad de los envíos en zonas extremas o rurales del país. Cita (SERNAC reclamo): <i>'Pago Meli+ pero el envío a mi ciudad demora lo mismo o más que el envío normal. No veo el beneficio logístico.'</i></li><li><b>Punto clave promotor:</b> La adición de Universal+ y descuentos en compras de supermercado en abril fue muy bien recibida, aumentando significativamente el valor percibido del programa. Cita (Reddit r/chile): <i>'No sabía si valía la pena, pero ahora con el súper y otra plataforma de streaming más, se paga solo.'</i></li></ul>"
      },
      "Argentina": {
        "sentimentIndex": [75, 76, 77, 78, 79, 80, 81, 82, 75, 78, 80, 81],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [
          { "month": "May 25", "text": "Lanzamiento Meli+" }
        ],
        "table": [
          { "mes": "Ago 25", "detractores": "15%", "motivosDet": "Costo mensual elevado, incertidumbre económica", "promotores": "76%", "motivosPro": "Envíos gratis, acceso a D+ y Max", "eventos": "Contexto inflacionario presiona bolsillos.", "competencia": "Flow de Cablevisión como paquete de contenido." },
          { "mes": "Jul 25", "detractores": "16%", "motivosDet": "El cambio de Nivel 6 se sintió forzado", "promotores": "78%", "motivosPro": "Mantener beneficios de streaming", "eventos": "Mes post-lanzamiento, se evalúa la retención.", "competencia": "Ofertas de NaranjaX y Ualá." },
          { "mes": "Jun 25", "detractores": "18%", "motivosDet": "Confusión con el nuevo esquema", "promotores": "75%", "motivosPro": "Acceso a Disney+ y Max", "eventos": "Periodo de adaptación al nuevo Meli+.", "competencia": "Competidores de ecommerce sin suscripción." },
          { "mes": "May 25", "detractores": "20%", "motivosDet": "Paso de Nivel 6 a Meli+ es un aumento", "promotores": "72%", "motivosPro": "Propuesta de valor más clara", "eventos": "Lanzamiento de Meli+, reemplaza Nivel 6.", "competencia": "Amazon no tiene presencia local fuerte." }
        ],
        "summary": "<ul><li><b>Punto clave detractor:</b> El cambio de Nivel 6 (que se podía alcanzar por gastos) a un modelo de suscripción paga (Meli+) en mayo generó resistencia. Cita (tuquejasuma.com): <i>'Yo era Nivel 6 por mis compras, no pagaba nada extra. Ahora me obligan a pagar una suscripción para tener los mismos beneficios. No es justo.'</i></li><li><b>Punto clave promotor:</b> Los usuarios que ya valoraban el paquete de streaming ven el nuevo modelo como más directo y justificable, especialmente en un contexto de alta inflación donde los envíos gratis son muy apreciados. Cita (Instagram Story): <i>'Con lo que sale la nafta, que me traigan todo a casa gratis y encima ver las pelis... Meli+ me recontra sirve.'</i></li></ul>"
      },
      "Colombia": {
        "sentimentIndex": [70, 72, 73, 74, 75, 76, 77, 78, 76, 78, 79, 83],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [
          { "month": "May 25", "text": "Amazon Prime llega a CO" },
          { "month": "Ago 25", "text": "Lanzamiento Meli+" }
        ],
        "table": [
          { "mes": "Ago 25", "detractores": "12%", "motivosDet": "Confusión en la migración de Nivel 6", "promotores": "80%", "motivosPro": "Excelente paquete de beneficios, streaming", "eventos": "Lanzamiento de Meli+, reemplaza Nivel 6.", "competencia": "Amazon Prime ya establecido; Rappi Pro fuerte." },
          { "mes": "Jul 25", "detractores": "18%", "motivosDet": "Amazon Prime es más barato", "promotores": "75%", "motivosPro": "Logística de Meli es superior", "eventos": "Expectativa por el cambio a Meli+.", "competencia": "Amazon Prime con fuerte campaña de lanzamiento." },
          { "mes": "Jun 25", "detractores": "17%", "motivosDet": "La oferta de Prime Video es buena", "promotores": "76%", "motivosPro": "Nivel 6 incluye Disney+", "eventos": "Comparativas constantes con Amazon Prime.", "competencia": "Amazon Prime muy activo en publicidad." },
          { "mes": "May 25", "detractores": "20%", "motivosDet": "La llegada de Amazon Prime devalúa Nivel 6", "promotores": "74%", "motivosPro": "Los envíos de Mercado Libre son más confiables", "eventos": "Amazon Prime lanza su servicio en el país.", "competencia": "Lanzamiento de Amazon Prime en Colombia." }
        ],
        "summary": "<ul><li><b>Punto clave detractor:</b> El reciente lanzamiento de Meli+ en agosto se enfrenta a un mercado donde Amazon Prime ya se estableció desde mayo, generando comparaciones directas de precio y beneficios. Cita (Twitter/X): <i>'Amazon Prime llegó más barato y con su propio streaming. Meli+ tiene que justificar muy bien su costo ahora.'</i></li><li><b>Punto clave promotor:</b> La percepción de una logística superior por parte de Mercado Libre y el potente paquete de streaming (Disney+ y Max) son los principales argumentos a favor de Meli+. Cita (Facebook post): <i>'Puede que Amazon sea nuevo, pero la entrega de Mercado Libre en Bogotá es imbatible. Además, con Meli+ tengo Disney y Max, Prime Video solo no compite.'</i></li></ul>"
      }
    };

    /* ===== Vertiente 2 (Alertas) y Vertiente 3 (Plataformas) ===== */
    const newsData = [
      {
        "id": 1,
        "entity": "Shein",
        "country": "Brasil",
        "impact": "Alto",
        "title": "Shein to Launch \"Shein+\" Subscription Service in Brazil and Mexico",
        "url": "https://www.reuters.com/business/retail-consumer/shein-prepares-challenge-amazon-new-membership-program-2025-08-28/",
        "date": "28-08-2025",
        "category": "Lanzamiento",
        "summary": "Shein is set to roll out a paid subscription program, 'Shein+', in Brazil and Mexico. The service will offer free shipping, exclusive discounts, and early access to new collections, directly competing with Mercado Libre's Meli+ and Amazon Prime.",
        "publisher": "reuters.com",
        "url_raw": "https://www.reuters.com/business/retail-consumer/shein-prepares-challenge-amazon-new-membership-program-2025-08-28/",
        "url_canonical": "https://www.reuters.com/business/retail-consumer/shein-prepares-challenge-amazon-new-membership-program-2025-08-28/",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      },
      {
        "id": 2,
        "entity": "Rappi Pro",
        "country": "México",
        "impact": "Medio",
        "title": "Rappi Pro Expands Restaurant Benefits in Mexico with Alsea Alliance",
        "url": "https://www.businesswire.com/news/home/20250825005519/en/Rappi-and-Alsea-Announce-Strategic-Partnership-in-Latin-America",
        "date": "25-08-2025",
        "category": "Estrategia",
        "summary": "Rappi and Alsea have announced a strategic partnership, granting Rappi Pro members in Mexico exclusive discounts and promotions across Alsea's restaurant portfolio, including brands like Starbucks and Vips.",
        "publisher": "businesswire.com",
        "url_raw": "https://www.businesswire.com/news/home/20250825005519/en/Rappi-and-Alsea-Announce-Strategic-Partnership-in-Latin-America",
        "url_canonical": "https://www.businesswire.com/news/home/20250825005519/en/Rappi-and-Alsea-Announce-Strategic-Partnership-in-Latin-America",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      },
      {
        "id": 3,
        "entity": "Amazon Prime",
        "country": "Todos los Países",
        "impact": "Medio",
        "title": "Amazon Announces New Slate of Latin American Originals for Prime Video",
        "url": "https://press.amazonstudios.com/us/en/press-release/amazon-studios-confirms-new-and-returning-orig",
        "date": "26-08-2025",
        "category": "Producto",
        "summary": "Amazon Studios announced a robust lineup of new and returning original series and films for Latin America. The new slate includes productions from Brazil, Mexico, and Argentina, aiming to strengthen the local content offering for Prime Video subscribers.",
        "publisher": "press.amazonstudios.com",
        "url_raw": "https://press.amazonstudios.com/us/en/press-release/amazon-studios-confirms-new-and-returning-orig",
        "url_canonical": "https://press.amazonstudios.com/us/en/press-release/amazon-studios-confirms-new-and-returning-orig",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      }
    ];
    const contentNewsData = [
      {
        "id": 101,
        "entity": "Max",
        "country": "Todos los Países",
        "impact": "Alto",
        "title": "Warner Bros. Discovery to Fold Discovery+ into Max Globally, Price Tiers to be Adjusted",
        "url": "https://wbd.com/press/wbd-announces-max-streaming-service-evolution/",
        "date": "02-09-2025",
        "category": "Estrategia",
        "summary": "WBD announced that the Discovery+ content library will be fully integrated into the Max streaming service globally by Q4 2025. The move will be accompanied by a restructuring of subscription tiers and a slight price adjustment for some legacy plans.",
        "publisher": "wbd.com",
        "url_raw": "https://wbd.com/press/wbd-announces-max-streaming-service-evolution/",
        "url_canonical": "https://wbd.com/press/wbd-announces-max-streaming-service-evolution/",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      },
      {
        "id": 102,
        "entity": "OpenAI",
        "country": "Todos los Países",
        "impact": "Alto",
        "title": "OpenAI Announces Limited Developer Preview of GPT-5 API, Cites Major Leap in Reasoning",
        "url": "https://openai.com/blog/developer-preview-gpt-5",
        "date": "03-09-2025",
        "category": "Flagship AI",
        "summary": "OpenAI has started inviting a select group of developers to test its next-generation model, GPT-5, via a limited preview API. The company claims the model shows significant improvements in complex reasoning, logic, and multi-step task execution.",
        "publisher": "openai.com",
        "url_raw": "https://openai.com/blog/developer-preview-gpt-5",
        "url_canonical": "https://openai.com/blog/developer-preview-gpt-5",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      },
      {
        "id": 103,
        "entity": "Spotify",
        "country": "Todos los Países",
        "impact": "Medio",
        "title": "Spotify Inks Exclusive Multi-Year Podcast Deal with Global Superstar",
        "url": "https://newsroom.spotify.com/2025-08-30/global-superstar-joins-spotify-exclusive-podcast-roster/",
        "date": "30-08-2025",
        "category": "Estrategia",
        "summary": "Spotify has secured another high-profile exclusive podcasting deal. The multi-year agreement will bring a new weekly show from a globally recognized celebrity to the platform, reinforcing its strategy of investing in exclusive content to drive user engagement and subscriptions.",
        "publisher": "newsroom.spotify.com",
        "url_raw": "https://newsroom.spotify.com/2025-08-30/global-superstar-joins-spotify-exclusive-podcast-roster/",
        "url_canonical": "https://newsroom.spotify.com/2025-08-30/global-superstar-joins-spotify-exclusive-podcast-roster/",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      },
      {
        "id": 104,
        "entity": "Netflix",
        "country": "Todos los Países",
        "impact": "Medio",
        "title": "Netflix Lowers Ad-Supported Plan Price in Select Southeast Asian Markets",
        "url": "https://about.netflix.com/en/news/making-netflix-more-accessible-in-sea",
        "date": "29-08-2025",
        "category": "Cambio de Precio",
        "summary": "In a bid to accelerate subscriber growth, Netflix has reduced the price of its 'Basic with Ads' subscription tier in markets including Thailand and the Philippines. This strategic move signals a flexible approach to pricing in competitive, high-growth regions.",
        "publisher": "about.netflix.com",
        "url_raw": "https://about.netflix.com/en/news/making-netflix-more-accessible-in-sea",
        "url_canonical": "https://about.netflix.com/en/news/making-netflix-more-accessible-in-sea",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      },
      {
        "id": 105,
        "entity": "Apple TV+",
        "country": "Todos los Países",
        "impact": "Medio",
        "title": "Apple TV+ Greenlights 'Foundation' Season 4, Confirms Expanded Budget",
        "url": "https://www.apple.com/tv-pr/news/2025/08/apple-tv-renews-epic-saga-foundation-for-fourth-season/",
        "date": "27-08-2025",
        "category": "Producto",
        "summary": "Apple has renewed its flagship science fiction series 'Foundation' for a fourth season. The announcement also confirmed an increased production budget, underscoring Apple's commitment to high-value, premium content for its streaming service.",
        "publisher": "apple.com",
        "url_raw": "https://www.apple.com/tv-pr/news/2025/08/apple-tv-renews-epic-saga-foundation-for-fourth-season/",
        "url_canonical": "https://www.apple.com/tv-pr/news/2025/08/apple-tv-renews-epic-saga-foundation-for-fourth-season/",
        "http_status": "200",
        "archived_url": "",
        "language": "en",
        "out_of_window": false
      }
    ];

    /* ===== LISTAS MAESTRAS ===== */
    const ALL_NEWS_COUNTRIES = ['Argentina','Brasil','Chile','México','Todos los Países'];
    const ALL_NEWS_COMPANIES = [
      'Amazon Prime','Shein','Temu','Shopee','Tiendanube','Rappi Pro','Uber One','Netflix','Spotify Premium','OpenAI (ChatGPT Premium)','Disney+',
      'Nubank Ultravioleta','Smiles','Globoplay','Nubank','Ualá','Cablevisión Flow','Amazon Prime Video','DGO','Mach'
    ];
    const ALL_NEWS_CATEGORIES = [
      'Cambio de Precio','Lanzamiento','Fusión/Adquisición','Sanción Legal','Estrategia','Producto',
      'Resultados Financieros','Derechos/Deportes','Flagship AI'
    ];

    const ALL_CONTENT_COUNTRIES = ['Argentina','Brasil','Chile','México','Todos los Países'];
    const ALL_CONTENT_COMPANIES = [
      'Disney+','Netflix','Apple TV+','Max','Paramount+','Universal+','Vix Premium','Globoplay','Spotify','Deezer','OpenAI'
    ];
    const ALL_CONTENT_CATEGORIES = [
      'Cambio de Precio','Lanzamiento','Fusión/Adquisición','Sanción Legal','Estrategia','Producto',
      'Resultados Financieros','Derechos/Deportes','Flagship AI'
    ];

    const chartColors = { main: '#2563eb', event: '#f59e0b' };

    const tabButtons = document.querySelectorAll('.tab-btn');
    const countryName = document.getElementById('country-name');
    const sentimentTableBody = document.getElementById('sentiment-table-body');
    const sentimentSummary = document.getElementById('sentiment-summary');
    let sentimentChart = null;

    const alertsGrid = document.getElementById('alerts-grid');
    const newsNoResults = document.getElementById('no-news-results');
    const newsFilterCountryContainer = document.getElementById('news-filter-country');
    const newsFilterCompanyContainer = document.getElementById('news-filter-company');
    const newsFilterCategoryContainer = document.getElementById('news-filter-category');
    let newsFilters = { country: [], company: [], category: [] };

    const contentAlertsGrid = document.getElementById('content-alerts-grid');
    const contentNewsNoResults = document.getElementById('no-content-results');
    const contentFilterCountryContainer = document.getElementById('content-filter-country');
    const contentFilterCompanyContainer = document.getElementById('content-filter-company');
    const contentFilterCategoryContainer = document.getElementById('content-filter-category');
    let contentFilters = { country: [], company: [], category: [] };

    /* ==== Helpers del gráfico ==== */
    function renderChart(data) {
      const ctx = document.getElementById('sentimentChart').getContext('2d');
      if (sentimentChart) sentimentChart.destroy();
      sentimentChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.labels,
          datasets: [{
            label: 'Índice de Sentimiento',
            data: data.sentimentIndex,
            borderColor: chartColors.main,
            backgroundColor: 'rgba(37, 99, 235, 0.2)',
            borderWidth: 2, fill: true,
            pointBackgroundColor: data.labels.map(l => data.events.find(e => e.month === l) ? chartColors.event : chartColors.main),
            pointRadius: data.labels.map(l => data.events.find(e => e.month === l) ? 6 : 4),
            pointHoverRadius: 8
          }]
        },
        options: {
          responsive: true, maintainAspectRatio: false,
          scales: { y: { beginAtZero: true, max: 100, title: { display: true, text: 'Índice de Sentimiento (0-100)', font: { weight: 'bold' } } } },
          plugins: { tooltip: { callbacks: { title: (items) => {
            const m = items[0].label; const ev = data.events.find(e => e.month === m);
            return m + (ev ? `\nEvento: ${ev.text}` : '');
          }}}}
        }
      });
    }

    function renderSentimentTable(rows) {
      sentimentTableBody.innerHTML = '';
      rows.forEach(row => {
        const tr = document.createElement('tr');
        tr.className = 'hover:bg-gray-50';
        tr.innerHTML = `
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${row.mes}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.detractores}</td>
          <td class="px-6 py-4 text-sm"><span class="inline-block px-2 py-1 rounded-md ring-1 ring-rose-100 bg-rose-50 text-rose-700">${row.motivosDet}</span></td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.promotores}</td>
          <td class="px-6 py-4 text-sm"><span class="inline-block px-2 py-1 rounded-md ring-1 ring-emerald-100 bg-emerald-50 text-emerald-700">${row.motivosPro}</span></td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.eventos}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.competencia}</td>`;
        sentimentTableBody.appendChild(tr);
      });
    }
    function renderSummary(html) { sentimentSummary.innerHTML = html; }
    function updateSentimentContent(country) {
      const data = sentimentData[country]; if (!data) return;
      countryName.textContent = country; renderChart(data); renderSentimentTable(data.table); renderSummary(data.summary);
    }

    /* ==== Etiquetas de categoría ==== */
    function getCategoryTag(category) {
      switch (category) {
        case 'Sanción Legal': return `<span class="bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Cambio de Precio': return `<span class="bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Lanzamiento': return `<span class="bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Fusión/Adquisición': return `<span class="bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Estrategia': return `<span class="bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Producto': return `<span class="bg-orange-100 text-orange-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Resultados Financieros': return `<span class="bg-teal-100 text-teal-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Derechos/Deportes': return `<span class="bg-indigo-100 text-indigo-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Flagship AI': return `<span class="bg-pink-100 text-pink-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        default: return `<span class="bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
      }
    }

    /* ==== Helpers de fuente (host en texto plano, sin enlace) ==== */
    function sourceHost(u) {
      try { return new URL(u).hostname.replace(/^www\./, ''); } catch { return ''; }
    }

    /* ==== Render tarjetas (Vertiente 2) — sin enlaces ni badge de impacto ==== */
    function renderNewsCards() {
      alertsGrid.innerHTML = '';
      const filtered = newsData.filter(item => {
        const cm = newsFilters.country.length === 0 || newsFilters.country.includes('all') || newsFilters.country.includes(item.country);
        const em = newsFilters.company.length === 0 || newsFilters.company.includes('all') || newsFilters.company.includes(item.entity);
        const km = newsFilters.category.length === 0 || newsFilters.category.includes('all') || newsFilters.category.includes(item.category);
        return cm && em && km;
      }).sort((a,b) => {
        const da = new Date((a.date || '').split('-').reverse().join('-'));
        const db = new Date((b.date || '').split('-').reverse().join('-'));
        if (da > db) return -1; if (da < db) return 1;
        const order = { 'Alto':1, 'Medio':2, 'Bajo':3 }; return (order[a.impact]||9) - (order[b.impact]||9);
      });
      newsNoResults.classList.toggle('hidden', filtered.length !== 0);
      filtered.forEach(row => {
        const host = sourceHost(row.url);
        const card = document.createElement('div');
        card.className = 'bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col hover:shadow-xl transition-all duration-300';
        card.innerHTML = `
          <div class="flex-grow">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-gray-800 text-lg">${row.entity}${row.country ? ` (${row.country})` : ''}</h4>
              ${getCategoryTag(row.category)}
            </div>
            <p class="text-gray-700 mb-3">${row.title}</p>
            <p class="text-xs text-gray-500">Fuente: <span class="font-medium">${host || '—'}</span></p>
          </div>
          <div class="text-sm text-gray-500 mt-auto pt-4 border-t border-gray-200 flex justify-between items-center">
            <span>${row.date || ''}</span>
          </div>`;
        alertsGrid.appendChild(card);
      });
    }

    /* ==== Render tarjetas (Vertiente 3) — sin enlaces ni badge de impacto ==== */
    function renderContentNewsCards() {
      contentAlertsGrid.innerHTML = '';
      const filtered = contentNewsData.filter(item => {
        const cm = contentFilters.country.length === 0 || contentFilters.country.includes('all') || contentFilters.country.includes(item.country);
        const em = contentFilters.company.length === 0 || contentFilters.company.includes('all') || contentFilters.company.includes(item.entity);
        const km = contentFilters.category.length === 0 || contentFilters.category.includes('all') || contentFilters.category.includes(item.category);
        return cm && em && km;
      }).sort((a,b) => {
        const da = new Date((a.date || '').split('-').reverse().join('-'));
        const db = new Date((b.date || '').split('-').reverse().join('-'));
        if (da > db) return -1; if (da < db) return 1;
        const order = { 'Alto':1, 'Medio':2, 'Bajo':3 }; return (order[a.impact]||9) - (order[b.impact]||9);
      });
      contentNewsNoResults.classList.toggle('hidden', filtered.length !== 0);
      filtered.forEach(row => {
        const host = sourceHost(row.url);
        const card = document.createElement('div');
        card.className = 'bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col hover:shadow-xl transition-all duration-300';
        card.innerHTML = `
          <div class="flex-grow">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-gray-800 text-lg">${row.entity}</h4>
              ${getCategoryTag(row.category)}
            </div>
            <p class="text-gray-700 mb-3">${row.title}</p>
            <p class="text-xs text-gray-500">Fuente: <span class="font-medium">${host || '—'}</span></p>
          </div>
          <div class="text-sm text-gray-500 mt-auto pt-4 border-t border-gray-200 flex justify-between items-center">
            <span>${row.date || ''}</span>
          </div>`;
        contentAlertsGrid.appendChild(card);
      });
    }

    /* ==== Poblar filtros ==== */
    function populateCheckboxes(container, allItems, group) {
      const idBase = group + '-';
      const html = [
        `<div class="filter-checkbox-item"><input type="checkbox" id="${idBase}all" value="all" class="mr-2"><label for="${idBase}all">Todos</label></div>`,
        ...allItems.map(c => `<div class="filter-checkbox-item"><input type="checkbox" id="${idBase}${c}" value="${c}" class="mr-2"><label for="${idBase}${c}">${c}</label></div>`)
      ].join('');
      container.innerHTML = html;
    }

    function updateNewsFilters() {
      populateCheckboxes(newsFilterCountryContainer, ALL_NEWS_COUNTRIES.filter(c => c!=='Todos los Países'), 'news-country-');
      populateCheckboxes(newsFilterCompanyContainer, ALL_NEWS_COMPANIES, 'news-company-');
      populateCheckboxes(newsFilterCategoryContainer, ALL_NEWS_CATEGORIES, 'news-category-');
      newsFilterCountryContainer.addEventListener('change', filterNews);
      newsFilterCompanyContainer.addEventListener('change', filterNews);
      newsFilterCategoryContainer.addEventListener('change', filterNews);
    }

    function updateContentNewsFilters() {
      populateCheckboxes(contentFilterCountryContainer, ALL_CONTENT_COUNTRIES.filter(c => c!=='Todos los Países'), 'content-country-');
      populateCheckboxes(contentFilterCompanyContainer, ALL_CONTENT_COMPANIES, 'content-company-');
      populateCheckboxes(contentFilterCategoryContainer, ALL_CONTENT_CATEGORIES, 'content-category-');
      contentFilterCountryContainer.addEventListener('change', filterContentNews);
      contentFilterCompanyContainer.addEventListener('change', filterContentNews);
      contentFilterCategoryContainer.addEventListener('change', filterContentNews);
    }

    /* ==== Lógica de filtros ==== */
    function getSelected(container) {
      return Array.from(container.querySelectorAll('input:checked')).map(i => i.value);
    }
    function normalizeSelectAll(container, selectedValues) {
      const allBox = container.querySelector('input[value="all"]');
      const rest = [...container.querySelectorAll('input[type="checkbox"]')].filter(b => b.value !== 'all');
      if (!allBox) return;
      if (selectedValues.includes('all')) rest.forEach(b => b.checked = false);
      else if (rest.some(b => b.checked)) allBox.checked = false;
    }
    function filterNews() {
      let sc = getSelected(newsFilterCountryContainer);
      let se = getSelected(newsFilterCompanyContainer);
      let sk = getSelected(newsFilterCategoryContainer);
      normalizeSelectAll(newsFilterCountryContainer, sc);
      normalizeSelectAll(newsFilterCompanyContainer, se);
      normalizeSelectAll(newsFilterCategoryContainer, sk);
      sc = getSelected(newsFilterCountryContainer);
      se = getSelected(newsFilterCompanyContainer);
      sk = getSelected(newsFilterCategoryContainer);
      newsFilters.country = sc.includes('all') ? [] : sc;
      newsFilters.company = se.includes('all') ? [] : se;
      newsFilters.category = sk.includes('all') ? [] : sk;
      renderNewsCards();
    }
    function filterContentNews() {
      let sc = getSelected(contentFilterCountryContainer);
      let se = getSelected(contentFilterCompanyContainer);
      let sk = getSelected(contentFilterCategoryContainer);
      normalizeSelectAll(contentFilterCountryContainer, sc);
      normalizeSelectAll(contentFilterCompanyContainer, se);
      normalizeSelectAll(contentFilterCategoryContainer, sk);
      sc = getSelected(contentFilterCountryContainer);
      se = getSelected(contentFilterCompanyContainer);
      sk = getSelected(contentFilterCategoryContainer);
      contentFilters.country = sc.includes('all') ? [] : sc;
      contentFilters.company = se.includes('all') ? [] : se;
      contentFilters.category = sk.includes('all') ? [] : sk;
      renderContentNewsCards();
    }

    /* ==== Tabs & Boot ==== */
    tabButtons.forEach(btn => btn.addEventListener('click', (e) => {
      tabButtons.forEach(b => b.classList.remove('active'));
      e.target.classList.add('active');
      updateSentimentContent(e.target.dataset.country);
    }));
    document.getElementById('news-reset-filters').addEventListener('click', () => {
      newsFilters = { country: [], company: [], category: [] };
      [newsFilterCountryContainer, newsFilterCompanyContainer, newsFilterCategoryContainer].forEach(c => {
        Array.from(c.querySelectorAll('input')).forEach(i => i.checked = false);
      });
      renderNewsCards();
    });
    document.getElementById('content-reset-filters').addEventListener('click', () => {
      contentFilters = { country: [], company: [], category: [] };
      [contentFilterCountryContainer, contentFilterCompanyContainer, contentFilterCategoryContainer].forEach(c => {
        Array.from(c.querySelectorAll('input')).forEach(i => i.checked = false);
      });
      renderContentNewsCards();
    });

    updateSentimentContent('Brasil');
    updateNewsFilters(); renderNewsCards();
    updateContentNewsFilters(); renderContentNewsCards();
  </script>
</body>
</html>