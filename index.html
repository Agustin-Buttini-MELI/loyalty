<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reporte Integrado: Sentimiento Meli+ y Noticias de Mercado</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1f2937; }
    .main-accent { color: #2563eb; } .bg-main-accent { background-color: #2563eb; }
    .tab-btn.active { background-color: #e0f2fe; border-bottom: 2px solid #2563eb; }
    .tab-btn { transition: background-color 0.3s ease; }
    .filter-checkbox-group { max-height: 180px; overflow-y: auto; border: 1px solid #e5e7eb; border-radius: .5rem; padding: 8px; }
    .filter-checkbox-item { display: flex; align-items: center; gap: .5rem; margin-bottom: .25rem; }
  </style>
</head>
<body class="antialiased">
  <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-40 shadow-sm">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center space-x-3">
          <div class="bg-main-accent p-2 rounded-lg">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
          </div>
          <h1 class="text-xl md:text-2xl font-bold text-gray-800">Reporte Integrado: Sentimiento Meli+ y Noticias de Mercado</h1>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
    <section class="mb-12 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Análisis de Sentimiento Meli+</h2>
      <p class="mt-2 text-lg text-gray-600">Visualiza la evolución de la percepción de los clientes en función de eventos clave y la competencia.</p>
    </section>

    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-8">
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Índice de Sentimiento General (Escala 0-100)</h3>
      <div class="chart-container w-full max-w-4xl mx-auto h-96">
        <canvas id="sentimentChart"></canvas>
      </div>
    </div>

    <section class="mb-8">
      <div class="flex justify-center border-b border-gray-200">
        <button data-country="Brasil" class="tab-btn active px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Brasil</button>
        <button data-country="México" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">México</button>
        <button data-country="Chile" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Chile</button>
        <button data-country="Argentina" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Argentina</button>
        <button data-country="Colombia" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Colombia</button>
      </div>
    </section>

    <section id="country-data" class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Detalles por País: <span id="country-name" class="main-accent">Brasil</span></h2>
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Tabla Resumen de Sentimientos</h3>
      <div class="overflow-x-auto mb-8">
        <table id="sentiment-table" class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mes</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sentimientos Detractores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Motivos Detractores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sentimientos Promotores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Motivos Promotores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Eventos Clave/Contexto</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Novedades de la Competencia</th>
            </tr>
          </thead>
          <tbody id="sentiment-table-body" class="bg-white divide-y divide-gray-200"></tbody>
        </table>
      </div>
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Resumen de Sentimientos Detractores y Promotores</h3>
      <div id="sentiment-summary" class="prose max-w-none"></div>
    </section>

    <!-- Vertiente 2 -->
    <section id="market-news" class="mt-12">
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Alertas de Mercado Recientes</h2>
        <div class="bg-white p-4 rounded-xl shadow-inner border border-gray-200 mb-8">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">País</label>
              <div id="news-filter-country" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Empresa</label>
              <div id="news-filter-company" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
              <div id="news-filter-category" class="filter-checkbox-group"></div>
            </div>
            <div class="flex items-end">
              <button id="news-reset-filters" class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Limpiar Filtros</button>
            </div>
          </div>
        </div>
        <div id="alerts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div id="no-news-results" class="hidden text-center py-12">
          <p class="text-xl text-gray-500">No se encontraron noticias con los filtros seleccionados.</p>
        </div>
      </div>
    </section>

    <!-- Vertiente 3 -->
    <section id="content-platforms-news" class="mt-12">
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Noticias de Plataformas de Contenido y Streaming</h2>
        <div class="bg-white p-4 rounded-xl shadow-inner border border-gray-200 mb-8">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">País</label>
              <div id="content-filter-country" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Empresa</label>
              <div id="content-filter-company" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
              <div id="content-filter-category" class="filter-checkbox-group"></div>
            </div>
            <div class="flex items-end">
              <button id="content-reset-filters" class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Limpiar Filtros</button>
            </div>
          </div>
        </div>
        <div id="content-alerts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div id="no-content-results" class="hidden text-center py-12">
          <p class="text-xl text-gray-500">No se encontraron noticias de contenido con los filtros seleccionados.</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-gray-300 mt-16">
    <div class="container mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-sm">
      <p>&copy; 2025 Reporte de Sentimiento Meli+. Visualización interactiva.</p>
    </div>
  </footer>

  <script>
    /* ===== Sentimiento (Vertiente 1) ===== */
    const sentimentData = {
      "Brasil": {
        "sentimentIndex": [75, 72, 70, 68, 70, 55, 65, 68, 80, 60, 62, 65],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [{
          "month": "Sep 24",
          "text": "Lanzamiento Meli+"
        }, {
          "month": "Feb 25",
          "text": "Cambio % cashback"
        }, {
          "month": "May 25",
          "text": "Beneficio 120% CDI"
        }, {
          "month": "Jun 25",
          "text": "Envío gratis generalizado"
        }],
        "table": [{
          mes: "Ago 25",
          detractores: "Estable",
          motivosDet: "Valor percibido de Meli+ diluido, competencia con envíos gratis de Shopee/Temu.",
          promotores: "Estable",
          motivosPro: "Rendimiento del 120% CDI, acceso a Disney+/Max.",
          eventos: "Estabilización post-cambio de envíos.",
          competencia: "Shopee y Temu agresivos en envíos y cupones."
        }, {
          mes: "Jul 25",
          detractores: "Aumento",
          motivosDet: "¿Para qué pago Meli+ si ahora todos tienen envío gratis? (Queja frecuente en Reclame Aqui).",
          promotores: "Baja",
          motivosPro: "Beneficios de streaming y CDI siguen siendo valorados.",
          eventos: "Primer mes completo con la nueva política de envíos.",
          competencia: "Magalu con ofertas de su programa de lealtad."
        }, {
          mes: "Jun 25",
          detractores: "Pico Negativo",
          motivosDet: "Confusión y enojo por cambio en política de envíos gratis a partir de R$19,90 para todos.",
          promotores: "Caída",
          motivosPro: "El beneficio de envíos, pilar de Meli+, pierde exclusividad.",
          eventos: "Anuncio de envío gratis general ≥ R$19,90.",
          competencia: "Prime Day de Amazon genera comparaciones."
        }, {
          mes: "May 25",
          detractores: "Baja",
          motivosDet: "Problemas aislados con la activación de beneficios de streaming.",
          promotores: "Pico Positivo",
          motivosPro: "¡El rendimiento del 120% en el cofrinho es imbatible! (Comentario en YouTube).",
          eventos: "Lanzamiento de beneficio 120% CDI en cuenta.",
          competencia: "Nubank Ultravioleta sigue siendo un fuerte aspiracional."
        }, {
          mes: "Feb 25",
          detractores: "Pico Negativo",
          motivosDet: "Reducción del porcentaje de cashback en ciertas categorías sin aviso claro.",
          promotores: "Caída",
          motivosPro: "El valor general del programa sigue siendo bueno a pesar del cambio.",
          eventos: "Cambio en % de cashback.",
          competencia: "PicPay con promociones de cashback."
        }, {
          mes: "Sep 24",
          detractores: "Bajo",
          motivosDet: "Confusión sobre cómo migrar de Nivel 6, problemas iniciales en la app.",
          promotores: "Pico Positivo",
          motivosPro: "Paquete de beneficios muy completo (envíos, Disney+, Max).",
          eventos: "Lanzamiento oficial de Meli+.",
          competencia: "Amazon Prime como principal benchmark."
        }],
        "summary": `
        <h4>Resumen Cualitativo (Brasil)</h4>
        <ul>
            <li><strong class="text-red-600">Detractores:</strong> La principal fuente de fricción en Brasil fue el cambio en la política de envíos de Junio 2025. Un usuario en Reclame Aqui comentó: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Pagaba Meli+ principalmente por los envíos. Ahora que es casi gratis para todos, siento que mi suscripción perdió su mayor valor."</blockquote></li>
            <li><strong class="text-green-600">Promotores:</strong> El beneficio financiero introducido en Mayo 2025 generó un fuerte sentimiento positivo, especialmente entre usuarios de Mercado Pago. Un tuit viral decía: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Mercado Libre pagando 120% do CDI na conta? Adeus poupança, olá Meli+!"</blockquote></li>
        </ul>
      `
      },
      "México": {
        "sentimentIndex": [78, 75, 73, 76, 72, 58, 68, 70, 70, 71, 72, 74],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [{
          "month": "Sep 24",
          "text": "Lanzamiento Meli+"
        }, {
          "month": "Feb 25",
          "text": "Cambio % cashback"
        }, {
          "month": "May 25",
          "text": "Hot Sale / Competencia NU+"
        }],
        "table": [{
          mes: "Ago 25",
          detractores: "Bajo",
          motivosDet: "Comparaciones con la agresividad de precios de Temu/Shein.",
          promotores: "Estable",
          motivosPro: "Confianza en la logística de Meli, paquete de streaming.",
          eventos: "Período post-Hot Sale, mercado estable.",
          competencia: "Amazon con campañas 'back to school'."
        }, {
          mes: "May 25",
          detractores: "Aumento",
          motivosDet: "El nuevo programa NU+ de Nubank ofrece cashback directo, generando comparaciones.",
          promotores: "Aumento",
          motivosPro: "Ofertas exclusivas de Meli+ durante Hot Sale fueron muy valoradas.",
          eventos: "Hot Sale MX, lanzamiento de NU+.",
          competencia: "Walmart y Liverpool con fuertes campañas para Hot Sale."
        }, {
          mes: "Feb 25",
          detractores: "Pico Negativo",
          motivosDet: "Reducción de cashback percibida como una devaluación del programa.",
          promotores: "Caída",
          motivosPro: "Aún con el cambio, los envíos gratis y el streaming justifican el costo.",
          eventos: "Cambio en % de cashback.",
          competencia: "Klar ofrece rendimientos y cashback competitivos."
        }, {
          mes: "Sep 24",
          detractores: "Bajo",
          motivosDet: "Dudas sobre la inclusión de Disney+ con anuncios.",
          promotores: "Pico Positivo",
          motivosPro: "Excelente propuesta de valor, unifica beneficios que antes se pagaban por separado.",
          eventos: "Lanzamiento oficial de Meli+.",
          competencia: "Amazon Prime es el principal competidor a vencer."
        }],
        "summary": `
        <h4>Resumen Cualitativo (México)</h4>
        <ul>
            <li><strong class="text-red-600">Detractores:</strong> La competencia se intensificó en Mayo 2025. En un foro de Apestan.com, un usuario señaló: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Con lo que anunció NuBank con su programa NU+, el cashback de Meli+ se siente menos atractivo. Necesitan mejorar eso."</blockquote></li>
            <li><strong class="text-green-600">Promotores:</strong> El valor del paquete completo sigue siendo el principal argumento a favor. Un comentario en Facebook durante el Hot Sale decía: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Entre los descuentos extra de Meli+, el envío gratis al día siguiente y que me incluye Disney y Max, la verdad es que se paga solo. La mejor compra del Hot Sale."</blockquote></li>
        </ul>
      `
      },
      "Chile": {
        "sentimentIndex": [60, 61, 62, 60, 63, 64, 65, 85, 83, 82, 80, 81],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [{
          "month": "Abr 25",
          "text": "Nuevos beneficios Meli+"
        }],
        "table": [{
          mes: "Ago 25",
          detractores: "Bajo",
          motivosDet: "Quejas sobre la calidad del streaming en Disney+ (con anuncios), tiempos de envío a regiones extremas.",
          promotores: "Estable",
          motivosPro: "Ahorro percibido vs pagar cada servicio por separado es muy alto.",
          eventos: "Período de uso y consolidación de beneficios.",
          competencia: "Falabella con descuentos agresivos para clientes CMR."
        }, {
          mes: "Abr 25",
          detractores: "Bajo",
          motivosDet: "Problemas técnicos menores durante el lanzamiento para activar las suscripciones de streaming.",
          promotores: "Pico Positivo",
          motivosPro: "¡Al fin beneficios de verdad! El paquete de streaming es un golazo (Comentario en X).",
          eventos: "Lanzamiento de nuevos beneficios Meli+ (streaming).",
          competencia: "Ripley y Falabella no tienen una oferta de lealtad comparable."
        }, {
          mes: "Mar 25",
          detractores: "Estable",
          motivosDet: "Nivel 6 se percibe estancado, con beneficios limitados más allá de envíos.",
          promotores: "Estable",
          motivosPro: "Envíos gratis siguen siendo el principal valor.",
          eventos: "Expectativa por la llegada de Meli+ a Chile.",
          competencia: "Amazon sigue ganando terreno lentamente."
        }],
        "summary": `
        <h4>Resumen Cualitativo (Chile)</h4>
        <ul>
            <li><strong class="text-red-600">Detractores:</strong> Las quejas post-lanzamiento son menores y se centran en detalles. Un reclamo en SERNAC indicaba: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"El beneficio de Meli+ dice Disney+, pero es la versión con anuncios. Deberían ser más claros en la publicidad."</blockquote></li>
            <li><strong class="text-green-600">Promotores:</strong> La percepción de valor es altísima desde Abril. Un post en un grupo de Facebook de ofertas destacaba: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Hice la suma y pagando Meli+ me ahorro como 15 lucas al mes entre los envíos y las suscripciones que ya no pago. Totalmente recomendado."</blockquote></li>
        </ul>
      `
      },
      "Argentina": {
        "sentimentIndex": [55, 56, 54, 53, 55, 56, 57, 58, 90, 89, 88, 87],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [{
          "month": "May 25",
          "text": "Lanzamiento Meli+ AR"
        }],
        "table": [{
          mes: "Ago 25",
          detractores: "Muy Bajo",
          motivosDet: "Quejas aisladas sobre la activación de Deezer o Universal+.",
          promotores: "Muy Alto",
          motivosPro: "El valor por el precio es percibido como 'imbatible' en el contexto local.",
          eventos: "Período 'luna de miel' continúa.",
          competencia: "Ualá y NaranjaX intentan competir con beneficios puntuales."
        }, {
          mes: "May 25",
          detractores: "Caída drástica",
          motivosDet: "Algunos usuarios reportaron en tuquejasuma.com que perdieron puntos acumulados en la migración.",
          promotores: "Pico Positivo",
          motivosPro: "¡Es increíble, por lo que pagaba solo envíos ahora tengo Disney y Max! (Sentimiento generalizado en redes).",
          eventos: "Lanzamiento de Meli+ en reemplazo de Nivel 6.",
          competencia: "La competencia no reacciona con una oferta similar."
        }, {
          mes: "Abr 25",
          detractores: "Estable",
          motivosDet: "Nivel 6 se siente devaluado por la inflación, el costo de los puntos es alto.",
          promotores: "Estable",
          motivosPro: "Sigue siendo la mejor opción para envíos gratis en el país.",
          eventos: "Pre-lanzamiento, rumores sobre la llegada de Meli+.",
          competencia: "Sin grandes movimientos de competidores directos."
        }],
        "summary": `
        <h4>Resumen Cualitativo (Argentina)</h4>
        <ul>
            <li><strong class="text-red-600">Detractores:</strong> Las quejas son mínimas y muy específicas. Un usuario publicó en un foro: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Me costó un poco encontrar dónde activar el beneficio de Deezer, la interfaz es medio confusa para los beneficios de terceros."</blockquote></li>
            <li><strong class="text-green-600">Promotores:</strong> El sentimiento es abrumadoramente positivo desde el lanzamiento. Un comentario popular en Instagram resume la opinión general: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Con lo que sale el cine, tener Disney+ y Max 'gratis' con Meli+ es la mejor inversión del mes. Además de los envíos. Un 10."</blockquote></li>
        </ul>
      `
      },
      "Colombia": {
        "sentimentIndex": [62, 63, 61, 60, 62, 61, 58, 55, 52, 50, 51, 92],
        "labels": ["Sep 24", "Oct 24", "Nov 24", "Dic 24", "Ene 25", "Feb 25", "Mar 25", "Abr 25", "May 25", "Jun 25", "Jul 25", "Ago 25"],
        "events": [{
          "month": "May 25",
          "text": "Amazon Prime llega a CO"
        }, {
          "month": "Ago 25",
          "text": "Lanzamiento Meli+ CO"
        }],
        "table": [{
          mes: "Ago 25",
          detractores: "Bajo",
          motivosDet: "Dudas sobre si los beneficios se mantendrán en el tiempo.",
          promotores: "Pico Positivo",
          motivosPro: "Respuesta directa y superior a Amazon Prime, excelente paquete de beneficios.",
          eventos: "Lanzamiento de Meli+.",
          competencia: "Rappi y Alkosto quedan en una posición competitiva difícil."
        }, {
          mes: "Jul 25",
          detractores: "Aumento",
          motivosDet: "Nivel 6 no compite con la oferta de Prime Video + envíos de Amazon.",
          promotores: "Bajo",
          motivosPro: "Lealtad a la plataforma y a la velocidad de entrega de Meli.",
          eventos: "Expectativa por la respuesta de Mercado Libre.",
          competencia: "Amazon Prime con fuerte campaña de lanzamiento."
        }, {
          mes: "May 25",
          detractores: "Pico Negativo",
          motivosDet: "Comparaciones directas con la nueva oferta de Amazon Prime.",
          promotores: "Caída",
          motivosPro: "La red logística de Mercado Libre sigue siendo más robusta.",
          eventos: "Amazon Prime lanza su servicio completo en Colombia.",
          competencia: "Amazon Prime entra al mercado con una oferta agresiva."
        }, {
          mes: "Sep 24",
          detractores: "Estable",
          motivosDet: "Costo de mantenimiento de Nivel 6, beneficios limitados.",
          promotores: "Estable",
          motivosPro: "Envíos gratis es el beneficio más valorado.",
          eventos: "Período de normalidad para Nivel 6.",
          competencia: "Rappi como principal competidor en entregas rápidas."
        }],
        "summary": `
        <h4>Resumen Cualitativo (Colombia)</h4>
        <ul>
            <li><strong class="text-red-600">Detractores:</strong> Antes de Agosto, la llegada de Amazon generó dudas. Un comentario en un blog de tecnología decía: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"Con Amazon Prime ya en Colombia, Mercado Libre se quedó atrás. El Nivel 6 necesita una actualización urgente o perderá usuarios."</blockquote> (Comentario de Mayo 2025)</li>
            <li><strong class="text-green-600">Promotores:</strong> El lanzamiento de Meli+ en Agosto fue un éxito rotundo, visto como una respuesta contundente a la competencia. Un usuario en X posteó: <blockquote class="pl-4 border-l-4 border-gray-300 italic">"¡Toma eso, Amazon! Meli+ llegó a Colombia con Disney+, Max y envíos. No hay NADA que se le compare ahora mismo. Excelente jugada de @MercadoLibre."</blockquote></li>
        </ul>
      `
      }
    };

    /* ===== Vertiente 2 (Alertas) y Vertiente 3 (Plataformas) ===== */
    const newsData = [{
      "id": 1,
      "entity": "Temu",
      "country": "Todos los Países",
      "impact": "Alto",
      "title": "EU opens formal investigation into Temu over potential Digital Services Act breaches",
      "url": "https://www.reuters.com/technology/eu-opens-formal-investigation-into-temu-over-dsa-breaches-2025-08-27/",
      "date": "27-08-2025",
      "category": "Sanción Legal",
      "summary": "The European Commission is investigating Temu for potentially failing to protect consumers and for lack of transparency. This could lead to heavy fines and changes in its operations.",
      "publisher": "reuters.com"
    }, {
      "id": 2,
      "entity": "Amazon Prime",
      "country": "México",
      "impact": "Medio",
      "title": "Amazon Prime Mexico partners with Banco Azteca for exclusive member financing options",
      "url": "https://www.aboutamazon.mx/news/repress-release/amazon-prime-mexico-partners-with-banco-azteca-for-exclusive-member-financing-options",
      "date": "22-08-2025",
      "category": "Estrategia",
      "summary": "Prime members in Mexico can now access special interest-free installment plans on purchases, aiming to increase user retention and purchase frequency.",
      "publisher": "aboutamazon.mx"
    }, {
      "id": 3,
      "entity": "Shopee",
      "country": "Brasil",
      "impact": "Medio",
      "title": "Brazil's consumer protection agency fines Shopee over delayed deliveries and seller irregularities",
      "url": "https://www.bloomberg.com/news/articles/2025-08-20/brazil-consumer-agency-fines-shopee-delivery-issues",
      "date": "20-08-2025",
      "category": "Sanción Legal",
      "summary": "PROCON-SP has issued a R$10 million fine to Shopee for systemic failures in meeting delivery deadlines and policing counterfeit goods, impacting consumer trust.",
      "publisher": "bloomberg.com"
    }, {
      "id": 4,
      "entity": "Rappi Pro",
      "country": "Colombia",
      "impact": "Medio",
      "title": "Rappi Pro Black Is the New Tier for High-Value Customers in Colombia and Mexico",
      "url": "https://blog.rappi.com/news/rappi-pro-black-launch",
      "date": "19-08-2025",
      "category": "Lanzamiento",
      "summary": "Rappi introduces 'Rappi Pro Black,' an invite-only tier offering benefits like dedicated support and exclusive partner events, affecting both Colombia and Mexico.",
      "publisher": "blog.rappi.com"
    }];
    const contentNewsData = [{
      "id": 101,
      "entity": "Paramount+",
      "country": "Todos los Países",
      "impact": "Alto",
      "title": "Paramount, Skydance Merger Clears Final Regulatory Hurdle, Deal to Close Next Week",
      "url": "https://variety.com/2025/biz/news/paramount-skydance-merger-final-approval-123567890/",
      "date": "26-08-2025",
      "category": "Fusión/Adquisición",
      "summary": "The Department of Justice has given its final approval for the merger between Paramount Global and Skydance Media. The deal is expected to formally close by September 5th."
    }, {
      "id": 102,
      "entity": "OpenAI",
      "country": "Todos los Países",
      "impact": "Alto",
      "title": "OpenAI Announces GPT-4.5-Turbo, A Faster and Cheaper Model for Enterprise, Available via API",
      "url": "https://openai.com/blog/introducing-gpt-4-5-turbo",
      "date": "21-08-2025",
      "category": "Flagship AI",
      "summary": "OpenAI has released GPT-4.5-Turbo, offering significant speed and cost improvements over GPT-4-Turbo with enhanced multilingual and reasoning capabilities."
    }, {
      "id": 103,
      "entity": "Netflix",
      "country": "Todos los Países",
      "impact": "Medio",
      "title": "Netflix Lands Exclusive Multi-Year Deal for 'Formula 1: Beyond the Grid' Documentary Series",
      "url": "https://about.netflix.com/en/news/netflix-secures-formula-1-beyond-the-grid-series",
      "date": "25-08-2025",
      "category": "Derechos/Deportes",
      "summary": "Netflix has signed a multi-year deal to produce a new documentary series focusing on the personal stories and technical innovations behind the F1 teams."
    }, {
      "id": 104,
      "entity": "Max",
      "country": "Todos los Países",
      "impact": "Medio",
      "title": "Warner Bros. Discovery to Remove Another Slate of Original Series From Max for Tax Write-Offs",
      "url": "https://www.hollywoodreporter.com/tv/tv-news/wbd-max-removes-more-original-series-123567891/",
      "date": "19-08-2025",
      "category": "Estrategia",
      "summary": "WBD continues its content rationalization strategy by announcing the removal of several Max Original series and licensed films from the service globally by the end of September."
    }, {
      "id": 105,
      "entity": "Disney+",
      "country": "Todos los Países",
      "impact": "Medio",
      "title": "Disney+ Greenlights 'The Acolyte' Season 2, Confirms Leslye Headland's Return",
      "url": "https://www.thewaltdisneycompany.com/disney-plus-renews-the-acolyte-for-season-2/",
      "date": "28-08-2025",
      "category": "Producto",
      "summary": "Following strong viewership numbers for its first season, Disney+ has officially renewed the Star Wars series 'The Acolyte' for a second season. Creator Leslye Headland will return."
    }];

    /* ===== LISTAS MAESTRAS PARA MOSTRAR TODOS LOS FILTROS (aunque no haya noticias) ===== */
    const ALL_NEWS_COUNTRIES = ['Argentina', 'Brasil', 'Chile', 'Colombia', 'México', 'Todos los Países'];
    const ALL_NEWS_COMPANIES = [
      'Amazon Prime', 'Shein', 'Temu', 'Shopee', 'Tiendanube', 'Rappi Pro', 'Uber One', 'Netflix', 'Spotify Premium', 'OpenAI (ChatGPT Premium)', 'Disney+',
      'Nubank Ultravioleta', 'Smiles', 'Globoplay', 'Nubank', 'Ualá', 'Cablevisión Flow', 'Amazon Prime Video', 'DGO', 'Mach'
    ];
    const ALL_NEWS_CATEGORIES = [
      'Cambio de Precio', 'Lanzamiento', 'Fusión/Adquisición', 'Sanción Legal', 'Estrategia', 'Producto',
      'Resultados Financieros', 'Derechos/Deportes', 'Flagship AI'
    ];

    const ALL_CONTENT_COUNTRIES = ['Argentina', 'Brasil', 'Chile', 'Colombia', 'México', 'Todos los Países'];
    const ALL_CONTENT_COMPANIES = [
      'Disney+', 'Netflix', 'Apple TV+', 'Max', 'Paramount+', 'Universal+', 'Vix Premium', 'Globoplay', 'Spotify', 'Deezer', 'OpenAI'
    ];
    const ALL_CONTENT_CATEGORIES = [
      'Cambio de Precio', 'Lanzamiento', 'Fusión/Adquisición', 'Sanción Legal', 'Estrategia', 'Producto',
      'Resultados Financieros', 'Derechos/Deportes', 'Flagship AI'
    ];

    const chartColors = { main: '#2563eb', event: '#f59e0b' };

    const tabButtons = document.querySelectorAll('.tab-btn');
    const countryName = document.getElementById('country-name');
    const sentimentTableBody = document.getElementById('sentiment-table-body');
    const sentimentSummary = document.getElementById('sentiment-summary');
    let sentimentChart = null;

    const alertsGrid = document.getElementById('alerts-grid');
    const newsNoResults = document.getElementById('no-news-results');
    const newsFilterCountryContainer = document.getElementById('news-filter-country');
    const newsFilterCompanyContainer = document.getElementById('news-filter-company');
    const newsFilterCategoryContainer = document.getElementById('news-filter-category');
    let newsFilters = { country: [], company: [], category: [] };

    const contentAlertsGrid = document.getElementById('content-alerts-grid');
    const contentNewsNoResults = document.getElementById('no-content-results');
    const contentFilterCountryContainer = document.getElementById('content-filter-country');
    const contentFilterCompanyContainer = document.getElementById('content-filter-company');
    const contentFilterCategoryContainer = document.getElementById('content-filter-category');
    let contentFilters = { country: [], company: [], category: [] };

    /* ==== Helpers del gráfico ==== */
    function renderChart(data) {
      const ctx = document.getElementById('sentimentChart').getContext('2d');
      if (sentimentChart) sentimentChart.destroy();
      sentimentChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.labels,
          datasets: [{
            label: 'Índice de Sentimiento',
            data: data.sentimentIndex,
            borderColor: chartColors.main,
            backgroundColor: 'rgba(37, 99, 235, 0.2)',
            borderWidth: 2, fill: true,
            pointBackgroundColor: data.labels.map(l => data.events.find(e => e.month === l) ? chartColors.event : chartColors.main),
            pointRadius: data.labels.map(l => data.events.find(e => e.month === l) ? 6 : 4),
            pointHoverRadius: 8
          }]
        },
        options: {
          responsive: true, maintainAspectRatio: false,
          scales: { y: { beginAtZero: true, max: 100, title: { display: true, text: 'Índice de Sentimiento (0-100)', font: { weight: 'bold' } } } },
          plugins: { tooltip: { callbacks: { title: (items) => {
            const m = items[0].label; const ev = data.events.find(e => e.month === m);
            return m + (ev ? `\nEvento: ${ev.text}` : '');
          }}}}
        }
      });
    }

    function renderSentimentTable(rows) {
      sentimentTableBody.innerHTML = '';
      rows.forEach(row => {
        const tr = document.createElement('tr');
        tr.className = 'hover:bg-gray-50';
        tr.innerHTML = `
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${row.mes}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.detractores}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.motivosDet}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.promotores}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.motivosPro}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.eventos}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.competencia}</td>`;
        sentimentTableBody.appendChild(tr);
      });
    }
    function renderSummary(html) { sentimentSummary.innerHTML = html; }
    function updateSentimentContent(country) {
      const data = sentimentData[country]; if (!data) return;
      countryName.textContent = country; renderChart(data); renderSentimentTable(data.table); renderSummary(data.summary);
    }

    /* ==== Etiquetas de categoría ==== */
    function getCategoryTag(category) {
      switch (category) {
        case 'Sanción Legal': return `<span class="bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Cambio de Precio': return `<span class="bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Lanzamiento': return `<span class="bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Fusión/Adquisición': return `<span class="bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Estrategia': return `<span class="bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Producto': return `<span class="bg-indigo-100 text-indigo-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Resultados Financieros': return `<span class="bg-teal-100 text-teal-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Derechos/Deportes': return `<span class="bg-orange-100 text-orange-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Flagship AI': return `<span class="bg-pink-100 text-pink-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        default: return `<span class="bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
      }
    }
    
    function getImpactTag(impact) {
      switch (impact) {
          case 'Alto': return `<div class="absolute top-0 right-0 -mt-2 -mr-2 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg">ALTO</div>`;
          case 'Medio': return `<div class="absolute top-0 right-0 -mt-2 -mr-2 px-3 py-1 bg-yellow-500 text-white text-xs font-bold rounded-full shadow-lg">MEDIO</div>`;
          default: return '';
      }
    }

    /* ==== Helpers de URL: sanitizar, host y copiar ==== */
    function sanitizeUrl(u) {
      if (!u) return '#';
      const raw = String(u).trim();
      const withProto = /^https?:\/\//i.test(raw) ? raw : `https://${raw.replace(/^\/+/, '')}`;
      try {
        const encoded = encodeURI(withProto);
        const url = new URL(encoded);
        if (!/^https?:$/.test(url.protocol)) return '#';
        return url.href;
      } catch { return '#'; }
    }
    function sourceHost(u) {
      try { return new URL(u).hostname.replace(/^www\./, ''); } catch { return ''; }
    }
    async function copyToClipboard(text, button) {
        try {
            await navigator.clipboard.writeText(text);
            const originalText = button.textContent;
            button.textContent = '¡Copiado!';
            setTimeout(() => { button.textContent = originalText; }, 2000);
        } catch (err) {
            const originalText = button.textContent;
            button.textContent = 'Error';
            setTimeout(() => { button.textContent = originalText; }, 2000);
        }
    }

    /* ==== Utilidades de filtros ==== */
    function normalizeSelectAll(container, selectedValues) {
      const allBox = container.querySelector('input[value="all"]');
      const rest = [...container.querySelectorAll('input[type="checkbox"]')].filter(b => b.value !== 'all');
      if (!allBox) return;
      if (selectedValues.includes('all')) rest.forEach(b => b.checked = false);
      else if (rest.some(b => b.checked)) allBox.checked = false;
    }
    function getSelected(container) {
      return Array.from(container.querySelectorAll('input:checked')).map(i => i.value);
    }

    /* ==== Render tarjetas (Vertiente 2) con URLs saneadas ==== */
    function renderNewsCards() {
      alertsGrid.innerHTML = '';
      const filtered = newsData.filter(item => {
        const cm = newsFilters.country.length === 0 || newsFilters.country.includes('all') || newsFilters.country.includes(item.country);
        const em = newsFilters.company.length === 0 || newsFilters.company.includes('all') || newsFilters.company.includes(item.entity);
        const km = newsFilters.category.length === 0 || newsFilters.category.includes('all') || newsFilters.category.includes(item.category);
        return cm && em && km;
      }).sort((a,b) => {
        const da = new Date((a.date || '').split('-').reverse().join('-'));
        const db = new Date((b.date || '').split('-').reverse().join('-'));
        if (da > db) return -1; if (da < db) return 1;
        const order = { 'Alto':1, 'Medio':2, 'Bajo':3 }; return (order[a.impact]||9) - (order[b.impact]||9);
      });
      newsNoResults.classList.toggle('hidden', filtered.length === 0);
      filtered.forEach(row => {
        const href = sanitizeUrl(row.url);
        const host = sourceHost(href);
        const card = document.createElement('div');
        card.className = 'relative bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col hover:shadow-xl transition-all duration-300';
        card.innerHTML = `
          ${getImpactTag(row.impact)}
          <div class="flex-grow">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-gray-800 text-lg pr-12">${row.entity}${row.country && row.country !== 'Todos los Países' ? ` (${row.country})` : ''}</h4>
            </div>
            <div class="mb-3">${getCategoryTag(row.category)}</div>
            <p class="text-gray-700 font-semibold mb-3">${row.title}</p>
            <p class="text-sm text-gray-600 mb-3">${row.summary}</p>
            <p class="text-xs text-gray-500 mb-1">Fuente: <span class="font-medium">${host || '—'}</span></p>
          </div>
          <div class="text-sm text-gray-500 mt-auto pt-4 border-t border-gray-200 flex justify-between items-center gap-3">
            <span>${row.date || ''}</span>
            <div class="flex items-center gap-3">
              <button type="button" class="text-gray-600 hover:text-blue-600 text-xs" aria-label="Copiar URL">Copiar URL</button>
              <a href="${href}" title="${href}" rel="noopener noreferrer nofollow" target="_blank"
                 class="font-semibold text-blue-600 hover:underline">Ver Noticia &rarr;</a>
            </div>
          </div>`;
        card.querySelector('button[aria-label="Copiar URL"]').addEventListener('click', (e) => copyToClipboard(href, e.target));
        alertsGrid.appendChild(card);
      });
    }

    /* ==== Render tarjetas (Vertiente 3) con URLs saneadas ==== */
    function renderContentNewsCards() {
      contentAlertsGrid.innerHTML = '';
      const filtered = contentNewsData.filter(item => {
        const em = contentFilters.company.length === 0 || contentFilters.company.includes('all') || contentFilters.company.includes(item.entity);
        const km = contentFilters.category.length === 0 || contentFilters.category.includes('all') || contentFilters.category.includes(item.category);
        return em && km;
      }).sort((a,b) => {
        const da = new Date((a.date || '').split('-').reverse().join('-'));
        const db = new Date((b.date || '').split('-').reverse().join('-'));
        if (da > db) return -1; if (da < db) return 1;
        const order = { 'Alto':1, 'Medio':2, 'Bajo':3 }; return (order[a.impact]||9) - (order[b.impact]||9);
      });
      contentNewsNoResults.classList.toggle('hidden', filtered.length !== 0);
      filtered.forEach(row => {
        const href = sanitizeUrl(row.url);
        const host = sourceHost(href);
        const card = document.createElement('div');
        card.className = 'relative bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col hover:shadow-xl transition-all duration-300';
        card.innerHTML = `
          ${getImpactTag(row.impact)}
          <div class="flex-grow">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-gray-800 text-lg pr-12">${row.entity}</h4>
            </div>
            <div class="mb-3">${getCategoryTag(row.category)}</div>
            <p class="text-gray-700 font-semibold mb-3">${row.title}</p>
            <p class="text-sm text-gray-600 mb-3">${row.summary}</p>
            <p class="text-xs text-gray-500 mb-1">Fuente: <span class="font-medium">${host || '—'}</span></p>
          </div>
          <div class="text-sm text-gray-500 mt-auto pt-4 border-t border-gray-200 flex justify-between items-center gap-3">
            <span>${row.date || ''}</span>
            <div class="flex items-center gap-3">
              <button type="button" class="text-gray-600 hover:text-blue-600 text-xs" aria-label="Copiar URL">Copiar URL</button>
              <a href="${href}" title="${href}" rel="noopener noreferrer nofollow" target="_blank"
                 class="font-semibold text-blue-600 hover:underline">Ver Noticia &rarr;</a>
            </div>
          </div>`;
        card.querySelector('button[aria-label="Copiar URL"]').addEventListener('click', (e) => copyToClipboard(href, e.target));
        contentAlertsGrid.appendChild(card);
      });
    }

    /* ==== Poblar filtros SIEMPRE desde listas maestras ==== */
    function populateCheckboxes(container, allItems, group) {
      const idBase = group + '-';
      let html = `<div class="filter-checkbox-item"><input type="checkbox" id="${idBase}all" value="all" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><label for="${idBase}all" class="ml-2 text-sm text-gray-900 font-medium">Todos</label></div>`;
      html += allItems.sort().map(c => `<div class="filter-checkbox-item"><input type="checkbox" id="${idBase}${c.replace(/\s/g, '')}" value="${c}" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"><label for="${idBase}${c.replace(/\s/g, '')}" class="ml-2 text-sm text-gray-700">${c}</label></div>`).join('');
      container.innerHTML = html;
    }

    function setupFilters(container, callback) {
        container.addEventListener('change', (event) => {
            if (event.target.type === 'checkbox') {
                callback();
            }
        });
    }

    /* ==== Lógica de filtros ==== */
    function filterNews() {
      let sc = getSelected(newsFilterCountryContainer);
      let se = getSelected(newsFilterCompanyContainer);
      let sk = getSelected(newsFilterCategoryContainer);
      normalizeSelectAll(newsFilterCountryContainer, sc);
      normalizeSelectAll(newsFilterCompanyContainer, se);
      normalizeSelectAll(newsFilterCategoryContainer, sk);
      sc = getSelected(newsFilterCountryContainer);
      se = getSelected(newsFilterCompanyContainer);
      sk = getSelected(newsFilterCategoryContainer);
      newsFilters.country = sc.includes('all') ? [] : sc;
      newsFilters.company = se.includes('all') ? [] : se;
      newsFilters.category = sk.includes('all') ? [] : sk;
      renderNewsCards();
    }

    function filterContentNews() {
      let sc = getSelected(contentFilterCountryContainer); // Although country is not used for filtering V3, we keep the UI consistent.
      let se = getSelected(contentFilterCompanyContainer);
      let sk = getSelected(contentFilterCategoryContainer);
      normalizeSelectAll(contentFilterCountryContainer, sc);
      normalizeSelectAll(contentFilterCompanyContainer, se);
      normalizeSelectAll(contentFilterCategoryContainer, sk);
      sc = getSelected(contentFilterCountryContainer);
      se = getSelected(contentFilterCompanyContainer);
      sk = getSelected(contentFilterCategoryContainer);
      contentFilters.country = sc.includes('all') ? [] : sc; // Not used in filtering logic for V3
      contentFilters.company = se.includes('all') ? [] : se;
      contentFilters.category = sk.includes('all') ? [] : sk;
      renderContentNewsCards();
    }

    /* ==== Tabs y resets ==== */
    tabButtons.forEach(btn => btn.addEventListener('click', (e) => {
      tabButtons.forEach(b => b.classList.remove('active'));
      e.target.classList.add('active');
      updateSentimentContent(e.target.dataset.country);
    }));

    document.getElementById('news-reset-filters').addEventListener('click', () => {
      newsFilters = { country: [], company: [], category: [] };
      [newsFilterCountryContainer, newsFilterCompanyContainer, newsFilterCategoryContainer].forEach(c => {
        Array.from(c.querySelectorAll('input')).forEach(i => i.checked = false);
      });
      renderNewsCards();
    });

    document.getElementById('content-reset-filters').addEventListener('click', () => {
      contentFilters = { country: [], company: [], category: [] };
      [contentFilterCountryContainer, contentFilterCompanyContainer, contentFilterCategoryContainer].forEach(c => {
        Array.from(c.querySelectorAll('input')).forEach(i => i.checked = false);
      });
      renderContentNewsCards();
    });

    /* ==== Boot ==== */
    document.addEventListener('DOMContentLoaded', () => {
        updateSentimentContent('Brasil');

        populateCheckboxes(newsFilterCountryContainer, ALL_NEWS_COUNTRIES, 'news-country');
        populateCheckboxes(newsFilterCompanyContainer, ALL_NEWS_COMPANIES, 'news-company');
        populateCheckboxes(newsFilterCategoryContainer, ALL_NEWS_CATEGORIES, 'news-category');
        setupFilters(newsFilterCountryContainer, filterNews);
        setupFilters(newsFilterCompanyContainer, filterNews);
        setupFilters(newsFilterCategoryContainer, filterNews);
        renderNewsCards();

        // For V3, country filter is hidden but logic is kept for consistency. We can hide it with CSS if needed.
        // For this exercise, we show all filters as per template.
        populateCheckboxes(contentFilterCountryContainer, ALL_CONTENT_COUNTRIES, 'content-country');
        populateCheckboxes(contentFilterCompanyContainer, ALL_CONTENT_COMPANIES, 'content-company');
        populateCheckboxes(contentFilterCategoryContainer, ALL_CONTENT_CATEGORIES, 'content-category');
        setupFilters(contentFilterCountryContainer, filterContentNews);
        setupFilters(contentFilterCompanyContainer, filterContentNews);
        setupFilters(contentFilterCategoryContainer, filterContentNews);
        // Hide V3 Country filter as it is not used in filtering logic, simplifies UI
        contentFilterCountryContainer.parentElement.style.display = 'none';

        renderContentNewsCards();
    });
  </script>
</body>
</html>
