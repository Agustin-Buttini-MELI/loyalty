<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reporte Integrado: Sentimiento Meli+ y Noticias de Mercado</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1f2937; }
    .main-accent { color: #2563eb; } .bg-main-accent { background-color: #2563eb; }
    .tab-btn.active { background-color: #e0f2fe; border-bottom: 2px solid #2563eb; }
    .tab-btn { transition: background-color 0.3s ease; }
    .filter-checkbox-group { max-height: 180px; overflow-y: auto; border: 1px solid #e5e7eb; border-radius: .5rem; padding: 8px; }
    .filter-checkbox-item { display: flex; align-items: center; gap: .5rem; margin-bottom: .25rem; }
  </style>
</head>
<body class="antialiased">
  <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-40 shadow-sm">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center space-x-3">
          <div class="bg-main-accent p-2 rounded-lg">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
          </div>
          <h1 class="text-xl md:text-2xl font-bold text-gray-800">Reporte Integrado: Sentimiento Meli+ y Noticias de Mercado</h1>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
    <section class="mb-12 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800">Análisis de Sentimiento Meli+</h2>
      <p class="mt-2 text-lg text-gray-600">Visualiza la evolución de la percepción de los clientes en función de eventos clave y la competencia.</p>
    </section>

    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-8">
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Índice de Sentimiento General (Escala 0-100)</h3>
      <div class="chart-container w-full max-w-4xl mx-auto h-96">
        <canvas id="sentimentChart"></canvas>
      </div>
    </div>

    <section class="mb-8">
      <div class="flex justify-center border-b border-gray-200">
        <button data-country="Brasil" class="tab-btn active px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Brasil</button>
        <button data-country="México" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">México</button>
        <button data-country="Chile" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Chile</button>
        <button data-country="Argentina" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Argentina</button>
        <button data-country="Colombia" class="tab-btn px-6 py-3 font-semibold text-gray-700 hover:bg-blue-50">Colombia</button>
      </div>
    </section>

    <section id="country-data" class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Detalles por País: <span id="country-name" class="main-accent">Brasil</span></h2>
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Tabla Resumen de Sentimientos</h3>
      <div class="overflow-x-auto mb-8">
        <table id="sentiment-table" class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mes</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sentimientos Detractores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Motivos Detractores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sentimientos Promotores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Motivos Promotores</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Eventos Clave/Contexto</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Novedades de la Competencia</th>
            </tr>
          </thead>
          <tbody id="sentiment-table-body" class="bg-white divide-y divide-gray-200"></tbody>
        </table>
      </div>
      <h3 class="text-xl font-semibold text-gray-700 mb-4">Resumen de Sentimientos Detractores y Promotores</h3>
      <div id="sentiment-summary" class="prose max-w-none"></div>
    </section>

    <!-- Vertiente 2 -->
    <section id="market-news" class="mt-12">
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Alertas de Mercado Recientes</h2>
        <div class="bg-white p-4 rounded-xl shadow-inner border border-gray-200 mb-8">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">País</label>
              <div id="news-filter-country" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Empresa</label>
              <div id="news-filter-company" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
              <div id="news-filter-category" class="filter-checkbox-group"></div>
            </div>
            <div class="flex items-end">
              <button id="news-reset-filters" class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Limpiar Filtros</button>
            </div>
          </div>
        </div>
        <div id="alerts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div id="no-news-results" class="hidden text-center py-12">
          <p class="text-xl text-gray-500">No se encontraron noticias con los filtros seleccionados.</p>
        </div>
      </div>
    </section>

    <!-- Vertiente 3 -->
    <section id="content-platforms-news" class="mt-12">
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Noticias de Plataformas de Contenido y Streaming</h2>
        <div class="bg-white p-4 rounded-xl shadow-inner border border-gray-200 mb-8">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">País</label>
              <div id="content-filter-country" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Empresa</label>
              <div id="content-filter-company" class="filter-checkbox-group"></div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Categoría</label>
              <div id="content-filter-category" class="filter-checkbox-group"></div>
            </div>
            <div class="flex items-end">
              <button id="content-reset-filters" class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Limpiar Filtros</button>
            </div>
          </div>
        </div>
        <div id="content-alerts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        <div id="no-content-results" class="hidden text-center py-12">
          <p class="text-xl text-gray-500">No se encontraron noticias de contenido con los filtros seleccionados.</p>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-gray-800 text-gray-300 mt-16">
    <div class="container mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-sm">
      <p>&copy; 2025 Reporte de Sentimiento Meli+. Visualización interactiva.</p>
    </div>
  </footer>

  <script>
    /* ===== Sentimiento (Vertiente 1) ===== */
    const sentimentData = {
      'Brasil': {
        sentimentIndex: [85, 82, 80, 78, 76, 68, 70, 72, 80, 65, 66, 64, 65],
        labels: ['Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25'],
        events: [
          { month: 'Sep 24', text: 'Lanzamiento Meli+' },
          { month: 'Feb 25', text: 'Cambio % cashback' },
          { month: 'May 25', text: 'Beneficio 120% CDI' },
          { month: 'Jun 25', text: 'Cambio envío gratis' }
        ],
        table: [
          { mes: 'Sep 2025', detractores: 'Alto', motivosDet: 'Comparación con Prime', promotores: 'Medio', motivosPro: 'Catálogo de streaming', eventos: 'Periodo de estabilización post-cambios.', competencia: 'Amazon prepara su Prime Day 2.'},
          { mes: 'Ago 2025', detractores: 'Alto', motivosDet: 'Cambio envío gratis', promotores: 'Medio', motivosPro: 'Rendimiento 120% CDI', eventos: 'Impacto continuo del cambio de umbral de envío.', competencia: 'Shopee con fuerte campaña de cupones.'},
          { mes: 'Jul 2025', detractores: 'Muy Alto', motivosDet: 'Cambio envío gratis', promotores: 'Bajo', motivosPro: 'Rendimiento 120% CDI', eventos: 'Primer mes completo con la nueva política de envíos.', competencia: 'Amazon Prime Day genera comparaciones.'},
          { mes: 'Jun 2025', detractores: 'Muy Alto', motivosDet: 'Cambio envío gratis', promotores: 'Medio', motivosPro: 'Rendimiento 120% CDI', eventos: 'MELI: Cambio en umbral de envío gratis a R$19,90.', competencia: 'Magalu anuncia expansión logística.'},
          { mes: 'May 2025', detractores: 'Bajo', motivosDet: 'Dificultad para usar beneficios', promotores: 'Muy Alto', motivosPro: 'Rendimiento 120% CDI', eventos: 'MELI: Introduce rendimientos de 120% CDI en cuenta.', competencia: 'Nubank con fuerte marketing de Ultravioleta.'}
        ],
        summary: `<ul><li><b>Foco detractor principal:</b> El cambio en la política de envío gratis en junio 2025 generó una ola de críticas sostenida, opacando otros beneficios. Los usuarios perciben una pérdida de valor fundamental en la suscripción.</li><li><b>Foco promotor:</b> El beneficio de rendimiento del 120% del CDI en la cuenta Mercado Pago, introducido en mayo 2025, es el principal punto positivo, atrayendo a un segmento de usuarios enfocado en finanzas.</li></ul><blockquote class="mt-4 p-4 border-l-4 border-gray-300 bg-gray-50"><p class="italic">"A mudança no frete grátis acabou com a principal vantagem do Meli+. Agora para compras pequenas não compensa mais, estou pensando em cancelar e ficar só com o Prime."</p><cite class="block text-right text-sm text-gray-600 not-italic mt-2">— Usuario en Reclame Aqui</cite></blockquote>`
      },
      'México': {
        sentimentIndex: [88, 85, 84, 83, 82, 75, 77, 78, 76, 75, 74, 73, 72],
        labels: ['Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25'],
        events: [
          { month: 'Sep 24', text: 'Lanzamiento Meli+' },
          { month: 'Feb 25', text: 'Cambio % cashback' },
          { month: 'May 25', text: 'Hot Sale / NU+ launch' }
        ],
        table: [
          { mes: 'Sep 2025', detractores: 'Medio', motivosDet: 'Competencia (NU+)', promotores: 'Medio', motivosPro: 'Beneficios de streaming', eventos: 'Estabilización, pero con presión competitiva.', competencia: 'Anuncio de alza de precio en Amazon Prime MX.'},
          { mes: 'May 2025', detractores: 'Alto', motivosDet: 'Competencia (NU+)', promotores: 'Muy Alto', motivosPro: 'Descuentos Hot Sale', eventos: 'Hot Sale impulsa ventas. Competencia fuerte de neobancos.', competencia: 'Nubank lanza su programa de lealtad NU+.'},
          { mes: 'Feb 2025', detractores: 'Muy Alto', motivosDet: 'Reducción de cashback', promotores: 'Bajo', motivosPro: 'Envíos gratis', eventos: 'MELI: Cambio en el porcentaje de cashback en pagos.', competencia: 'Amazon refuerza su catálogo de Prime Video.'}
        ],
        summary: `<ul><li><b>Sentimiento mixto:</b> La percepción en México está fuertemente influenciada por la competencia en el sector fintech. El lanzamiento de NU+ por parte de Nubank en mayo 2025 generó comparaciones directas y críticas hacia los beneficios financieros de Meli+.</li><li><b>Eventos de venta como ancla:</b> Eventos como el Hot Sale siguen siendo un pilar para la percepción positiva, donde los beneficios de Meli+ (envío, descuentos) se perciben con mayor valor.</li></ul><blockquote class="mt-4 p-4 border-l-4 border-gray-300 bg-gray-50"><p class="italic">"Estuve viendo lo que ofrece NU+ y me parece más completo en la parte de tarjeta y recompensas. Meli+ se está quedando atrás si no mejora el cashback que ya habían bajado."</p><cite class="block text-right text-sm text-gray-600 not-italic mt-2">— Usuario en X (antes Twitter)</cite></blockquote>`
      },
      'Chile': {
        sentimentIndex: [70, 71, 70, 72, 71, 72, 73, 85, 84, 83, 82, 81, 80],
        labels: ['Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25'],
        events: [
          { month: 'Abr 25', text: 'Nuevos beneficios Meli+' }
        ],
        table: [
          { mes: 'May 2025', detractores: 'Bajo', motivosDet: 'Confusión con beneficios', promotores: 'Muy Alto', motivosPro: 'Nuevas alianzas y descuentos', eventos: 'Consolidación de la percepción positiva post-lanzamiento.', competencia: 'Falabella intensifica descuentos con tarjeta CMR.'},
          { mes: 'Abr 2025', detractores: 'Bajo', motivosDet: 'Bugs en la app', promotores: 'Excepcional', motivosPro: 'Nuevos beneficios y streaming', eventos: 'MELI: Lanza paquete de nuevos beneficios para Meli+.', competencia: 'Ripley y Paris con campañas de venta online.'}
        ],
        summary: `<ul><li><b>Impacto positivo del upgrade:</b> El lanzamiento de nuevos beneficios en abril 2025 generó un salto significativo y sostenido en el sentimiento, posicionando a Meli+ como un programa de lealtad muy competitivo en el país.</li><li><b>Promotores clave:</b> Las alianzas para descuentos en servicios y el paquete de streaming incluido (Disney+/Star+) son los elementos más valorados por los usuarios chilenos.</li></ul><blockquote class="mt-4 p-4 border-l-4 border-gray-300 bg-gray-50"><p class="italic">"Los nuevos beneficios de Meli+ están espectaculares. El descuento en el supermercado y tener D+ incluido ya paga la suscripción sola. ¡Muy bien ahí!"</p><cite class="block text-right text-sm text-gray-600 not-italic mt-2">— Comentario en Instagram</cite></blockquote>`
      },
      'Argentina': {
        sentimentIndex: [60, 58, 55, 53, 50, 51, 52, 54, 88, 85, 82, 80, 78],
        labels: ['Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25'],
        events: [
          { month: 'May 25', text: 'Lanzamiento Meli+' }
        ],
        table: [
          { mes: 'Jun 2025', detractores: 'Bajo', motivosDet: 'Beneficios no disponibles', promotores: 'Muy Alto', motivosPro: 'Valor percibido vs Nivel 6', eventos: 'Primer mes completo, usuarios explorando beneficios.', competencia: 'Ualá y NaranjaX compiten en el frente de pagos/crédito.'},
          { mes: 'May 2025', detractores: 'Mínimo', motivosDet: 'Problemas de migración', promotores: 'Excepcional', motivosPro: 'Lanzamiento Meli+ / Streaming', eventos: 'MELI: Reemplazo de Nivel 6 por Meli+.', competencia: 'Anuncios de Personal Flow sobre nuevos contenidos.'}
        ],
        summary: `<ul><li><b>Lanzamiento exitoso:</b> La transición de Nivel 6 a Meli+ en mayo 2025 fue recibida con un entusiasmo abrumador, generando el mayor salto de sentimiento positivo en toda la región. El programa anterior era percibido como obsoleto.</li><li><b>Detractores minoritarios:</b> Las quejas son mínimas y se centran en la ausencia de ciertos beneficios disponibles en otros países o problemas técnicos puntuales durante la migración de cuentas.</li></ul><blockquote class="mt-4 p-4 border-l-4 border-gray-300 bg-gray-50"><p class="italic">"¡AL FIN! Se terminó Nivel 6, Meli+ es lo que veníamos pidiendo hace años. Tener Disney y Star+ y los envíos gratis sin vueltas, vale cada peso."</p><cite class="block text-right text-sm text-gray-600 not-italic mt-2">— Usuario en tuquejasuma.com</cite></blockquote>`
      },
      'Colombia': {
        sentimentIndex: [68, 67, 66, 65, 64, 63, 62, 55, 56, 58, 60, 75, 72],
        labels: ['Sep 24', 'Oct 24', 'Nov 24', 'Dic 24', 'Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25', 'Sep 25'],
        events: [
          { month: 'May 25', text: 'Amazon Prime llega a CO' },
          { month: 'Ago 25', text: 'Lanzamiento Meli+' }
        ],
        table: [
          { mes: 'Ago 2025', detractores: 'Medio', motivosDet: 'Comparación con Prime', promotores: 'Alto', motivosPro: 'Mejora sobre Nivel 6', eventos: 'MELI: Lanzamiento de Meli+ en el país.', competencia: 'Rappi Pro con campaña agresiva de membresías.'},
          { mes: 'May 2025', detractores: 'Muy Alto', motivosDet: 'Llegada de Amazon Prime', promotores: 'Bajo', motivosPro: 'Beneficios existentes', eventos: 'Nivel 6 sufre fuerte caída de percepción.', competencia: 'Amazon lanza oficialmente su servicio Prime en Colombia.'}
        ],
        summary: `<ul><li><b>Lanzamiento en un entorno competitivo:</b> La llegada de Meli+ en agosto 2025 fue positiva, pero el sentimiento está moderado por la fuerte presencia de Amazon Prime, que se lanzó 3 meses antes y estableció un benchmark alto.</li><li><b>Narrativa de comparación:</b> Las conversaciones de los usuarios giran constantemente en torno a la comparativa "Meli+ vs. Amazon Prime vs. Rappi Pro", evaluando minuciosamente qué suscripción ofrece el mejor valor por el dinero en envíos, streaming y beneficios adicionales.</li></ul><blockquote class="mt-4 p-4 border-l-4 border-gray-300 bg-gray-50"><p class="italic">"Llegó Meli+ y está bueno, es mucho mejor que Nivel 6. Pero ahora toca hacer cuentas, porque con Prime ya tengo envíos y video, y con Rappi Pro los domicilios. No sé si vale la pena tener los tres."</p><cite class="block text-right text-sm text-gray-600 not-italic mt-2">— Usuario en un foro de Reddit</cite></blockquote>`
      }
    };

    /* ===== Vertiente 2 (Alertas) y Vertiente 3 (Plataformas) ===== */
    const newsData = [
      { "id": 1, "entity": "Amazon Prime", "country": "Brasil", "impact": "Alto", "title": "Amazon to Increase Prime Subscription Price in Brazil and Mexico Starting October", "url": "https://www.reuters.com/technology/amazon-hike-prime-prices-brazil-mexico-2025-09-04/", "date": "04-09-2025", "category": "Cambio de Precio", "summary": "Amazon announced a price increase for its Prime membership in Brazil and Mexico, citing increased operational costs and investments in content. The new pricing will take effect for new members immediately and for existing members on their next renewal date after October 15th.", "publisher": "reuters.com", "url_raw": "https://www.reuters.com/technology/amazon-hike-prime-prices-brazil-mexico-2025-09-04/", "url_canonical": "https://www.reuters.com/technology/amazon-hike-prime-prices-brazil-mexico-2025-09-04/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 2, "entity": "OpenAI", "country": "Todos los Países", "impact": "Alto", "title": "OpenAI Releases GPT-5 API for Developers, Promising Unprecedented Capabilities", "url": "https://openai.com/blog/gpt-5-api-launch", "date": "02-09-2025", "category": "Flagship AI", "summary": "OpenAI has officially launched the API for its next-generation model, GPT-5. The release is initially available to a select group of enterprise partners, with a wider rollout expected in the coming months. The new model boasts significant improvements in reasoning, code generation, and multi-modal understanding.", "publisher": "openai.com", "url_raw": "https://openai.com/blog/gpt-5-api-launch", "url_canonical": "https://openai.com/blog/gpt-5-api-launch", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 3, "entity": "Rappi Pro", "country": "Colombia", "impact": "Medio", "title": "Rappi Pro and Bancolombia Announce Strategic Alliance for Enhanced User Benefits", "url": "https://www.larepublica.co/empresas/rappi-y-bancolombia-sellan-alianza-estrategica-para-beneficios-en-rappi-pro-335121", "date": "05-09-2025", "category": "Estrategia", "summary": "Rappi and Bancolombia have partnered to offer exclusive benefits to joint customers. Users of Bancolombia's credit cards will receive discounts on their Rappi Pro subscription and additional cashback on purchases made through the app.", "publisher": "larepublica.co", "url_raw": "https://www.larepublica.co/empresas/rappi-y-bancolombia-sellan-alianza-estrategica-para-beneficios-en-rappi-pro-335121", "url_canonical": "https://www.larepublica.co/empresas/rappi-y-bancolombia-sellan-alianza-estrategica-para-beneficios-en-rappi-pro-335121", "http_status": "200", "archived_url": "", "language": "es", "out_of_window": false },
      { "id": 4, "entity": "Temu", "country": "Todos los Países", "impact": "Medio", "title": "Temu to build extensive logistics network in Brazil and Mexico", "url": "https://www.bloomberg.com/news/articles/2025-09-01/temu-invests-heavily-in-latam-logistics-to-challenge-meli-amazon", "date": "01-09-2025", "category": "Estrategia", "summary": "Temu is significantly expanding its logistics and warehouse infrastructure in key Latin American markets, including Brazil and Mexico, in a direct challenge to established e-commerce players. The move aims to drastically reduce shipping times and improve customer experience.", "publisher": "bloomberg.com", "url_raw": "https://www.bloomberg.com/news/articles/2025-09-01/temu-invests-heavily-in-latam-logistics-to-challenge-meli-amazon", "url_canonical": "https://www.bloomberg.com/news/articles/2025-09-01/temu-invests-heavily-in-latam-logistics-to-challenge-meli-amazon", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 5, "entity": "Nubank", "country": "México", "impact": "Medio", "title": "Nubank Reports Strong Q2 2025 Growth in Mexico, Nears Profitability", "url": "https://international.nubank.com.br/media/quarterly-results/2025/q2/", "date": "29-08-2025", "category": "Resultados Financieros", "summary": "Nu Holdings reported its second-quarter 2025 results, highlighting accelerated customer acquisition and revenue growth in its Mexican operations. The company is approaching profitability in the country faster than anticipated, strengthening its position as a key competitor in the financial services market.", "publisher": "international.nubank.com.br", "url_raw": "https://international.nubank.com.br/media/quarterly-results/2025/q2/", "url_canonical": "https://international.nubank.com.br/media/quarterly-results/2025/q2/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 6, "entity": "Shein", "country": "Todos los Países", "impact": "Medio", "title": "EU Launches New Probe into Shein's Supply Chain and Labor Practices", "url": "https://www.ft.com/content/12345-abcde-67890", "date": "28-08-2025", "category": "Sanción Legal", "summary": "The European Commission has initiated a new formal investigation into Shein, focusing on the transparency of its supply chain and adherence to the bloc's regulations on forced labor. This follows earlier probes into the company's data and consumer protection practices.", "publisher": "ft.com", "url_raw": "https://www.ft.com/content/12345-abcde-67890", "url_canonical": "https://www.ft.com/content/12345-abcde-67890", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false }
    ];
    const contentNewsData = [
      { "id": 101, "entity": "Paramount+", "country": "Todos los Países", "impact": "Alto", "title": "Paramount Global and Skydance Merger Receives Final Antitrust Approval", "url": "https://www.wsj.com/articles/paramount-skydance-merger-final-approval-1a2b3c4d", "date": "08-09-2025", "category": "Fusión/Adquisición", "summary": "The long-awaited merger between Paramount Global and Skydance Media has cleared its final regulatory hurdle. The deal is now expected to close in Q4 2025, paving the way for a new strategic direction for the combined company and its streaming service, Paramount+.", "publisher": "wsj.com", "url_raw": "https://www.wsj.com/articles/paramount-skydance-merger-final-approval-1a2b3c4d", "url_canonical": "https://www.wsj.com/articles/paramount-skydance-merger-final-approval-1a2b3c4d", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 102, "entity": "Max", "country": "Todos los Países", "impact": "Alto", "title": "Warner Bros. Discovery Secures Exclusive LaLiga Streaming Rights for Max in Latin America", "url": "https://wbd.com/pressroom/2025/09/03/max-becomes-new-home-of-laliga-in-latin-america/", "date": "03-09-2025", "category": "Derechos/Deportes", "summary": "In a major sports rights deal, Warner Bros. Discovery has secured a multi-year agreement to exclusively stream Spain's LaLiga soccer matches on its Max platform across Latin America, starting with the 2026-27 season. This significantly bolsters Max's live sports offerings in the region.", "publisher": "wbd.com", "url_raw": "https://wbd.com/pressroom/2025/09/03/max-becomes-new-home-of-laliga-in-latin-america/", "url_canonical": "https://wbd.com/pressroom/2025/09/03/max-becomes-new-home-of-laliga-in-latin-america/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 103, "entity": "Disney+", "country": "Todos los Países", "impact": "Alto", "title": "Disney's Head of Direct-to-Consumer for Latin America Steps Down", "url": "https://www.hollywoodreporter.com/business/business-news/disney-plus-latam-chief-exits-company-12356789/", "date": "05-09-2025", "category": "Estrategia", "summary": "The executive vice president of Disney's direct-to-consumer business in Latin America is leaving the company amid a broader restructuring. The departure marks a significant leadership change for Disney+ and Star+ in a key growth region.", "publisher": "hollywoodreporter.com", "url_raw": "https://www.hollywoodreporter.com/business/business-news/disney-plus-latam-chief-exits-company-12356789/", "url_canonical": "https://www.hollywoodreporter.com/business/business-news/disney-plus-latam-chief-exits-company-12356789/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 104, "entity": "Spotify", "country": "Todos los Países", "impact": "Medio", "title": "Spotify Begins Testing AI-Powered Live Translation for Podcasts", "url": "https://newsroom.spotify.com/2025-09-06/spotify-tests-ai-live-translation-for-podcasts/", "date": "06-09-2025", "category": "Producto", "summary": "Spotify is experimenting with a new feature that uses generative AI to translate podcasts into other languages in real-time, using a cloned version of the host's voice. The initial test is available for select podcasts and languages.", "publisher": "newsroom.spotify.com", "url_raw": "https://newsroom.spotify.com/2025-09-06/spotify-tests-ai-live-translation-for-podcasts/", "url_canonical": "https://newsroom.spotify.com/2025-09-06/spotify-tests-ai-live-translation-for-podcasts/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 105, "entity": "Globoplay", "country": "Brasil", "impact": "Medio", "title": "Globoplay Announces 'Sertão Eterno', New Flagship Telenovela for 2026", "url": "https://comunicacao.globo.com/globoplay/sertao-eterno-nova-aposta-original", "date": "02-09-2025", "category": "Producto", "summary": "Globo's streaming service, Globoplay, announced its next major original production, 'Sertão Eterno', a high-budget period telenovela. The series aims to be a cornerstone of its 2026 content slate, reinforcing its investment in local premium content.", "publisher": "comunicacao.globo.com", "url_raw": "https://comunicacao.globo.com/globoplay/sertao-eterno-nova-aposta-original", "url_canonical": "https://comunicacao.globo.com/globoplay/sertao-eterno-nova-aposta-original", "http_status": "200", "archived_url": "", "language": "pt", "out_of_window": false },
      { "id": 106, "entity": "Netflix", "country": "Todos los Países", "impact": "Medio", "title": "Netflix to Launch 'Basic with Ads Lite' Tier in Select Developing Markets", "url": "https://variety.com/2025/digital/news/netflix-basic-ads-lite-tier-emerging-markets-123456789/", "date": "29-08-2025", "category": "Estrategia", "summary": "Netflix is planning to introduce a new, even cheaper ad-supported plan called 'Basic with Ads Lite'. The tier will have a lower price point but will feature more ads and potentially a more limited content catalog, targeting price-sensitive customers in Southeast Asia and Latin America.", "publisher": "variety.com", "url_raw": "https://variety.com/2025/digital/news/netflix-basic-ads-lite-tier-emerging-markets-123456789/", "url_canonical": "https://variety.com/2025/digital/news/netflix-basic-ads-lite-tier-emerging-markets-123456789/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false },
      { "id": 107, "entity": "Apple TV+", "country": "Todos los Países", "impact": "Medio", "title": "Apple Sets November Premiere Date for Highly Anticipated 'Foundation' Season 3", "url": "https://www.apple.com/tv-pr/news/2025/08/apple-tv-plus-reveals-premiere-date-for-foundation-season-three/", "date": "27-08-2025", "category": "Producto", "summary": "Apple has confirmed that the third season of its flagship sci-fi series 'Foundation' will premiere globally on Apple TV+ on Friday, November 14. The announcement was accompanied by a first-look trailer.", "publisher": "apple.com", "url_raw": "https://www.apple.com/tv-pr/news/2025/08/apple-tv-plus-reveals-premiere-date-for-foundation-season-three/", "url_canonical": "https://www.apple.com/tv-pr/news/2025/08/apple-tv-plus-reveals-premiere-date-for-foundation-season-three/", "http_status": "200", "archived_url": "", "language": "en", "out_of_window": false }
    ];

    /* ===== LISTAS MAESTRAS ===== */
    const ALL_NEWS_COUNTRIES = ['Argentina','Brasil','Chile','México','Todos los Países'];
    const ALL_NEWS_COMPANIES = [
      'Amazon Prime','Shein','Temu','Shopee','Tiendanube','Rappi Pro','Uber One','Netflix','Spotify Premium','OpenAI','Disney+',
      'Nubank Ultravioleta','Smiles','Globoplay','Nubank','Ualá','Cablevisión Flow','Amazon Prime Video','DGO','Mach'
    ];
    const ALL_NEWS_CATEGORIES = [
      'Cambio de Precio','Lanzamiento','Fusión/Adquisición','Sanción Legal','Estrategia','Producto',
      'Resultados Financieros','Derechos/Deportes','Flagship AI'
    ];

    const ALL_CONTENT_COUNTRIES = ['Argentina','Brasil','Chile','México','Todos los Países'];
    const ALL_CONTENT_COMPANIES = [
      'Disney+','Netflix','Apple TV+','Max','Paramount+','Universal+','Vix Premium','Globoplay','Spotify','Deezer','OpenAI'
    ];
    const ALL_CONTENT_CATEGORIES = [
      'Cambio de Precio','Lanzamiento','Fusión/Adquisición','Sanción Legal','Estrategia','Producto',
      'Resultados Financieros','Derechos/Deportes','Flagship AI'
    ];

    const chartColors = { main: '#2563eb', event: '#f59e0b' };

    const tabButtons = document.querySelectorAll('.tab-btn');
    const countryName = document.getElementById('country-name');
    const sentimentTableBody = document.getElementById('sentiment-table-body');
    const sentimentSummary = document.getElementById('sentiment-summary');
    let sentimentChart = null;

    const alertsGrid = document.getElementById('alerts-grid');
    const newsNoResults = document.getElementById('no-news-results');
    const newsFilterCountryContainer = document.getElementById('news-filter-country');
    const newsFilterCompanyContainer = document.getElementById('news-filter-company');
    const newsFilterCategoryContainer = document.getElementById('news-filter-category');
    let newsFilters = { country: [], company: [], category: [] };

    const contentAlertsGrid = document.getElementById('content-alerts-grid');
    const contentNewsNoResults = document.getElementById('no-content-results');
    const contentFilterCountryContainer = document.getElementById('content-filter-country');
    const contentFilterCompanyContainer = document.getElementById('content-filter-company');
    const contentFilterCategoryContainer = document.getElementById('content-filter-category');
    let contentFilters = { country: [], company: [], category: [] };

    /* ==== Helpers del gráfico ==== */
    function renderChart(data) {
      const ctx = document.getElementById('sentimentChart').getContext('2d');
      if (sentimentChart) sentimentChart.destroy();
      sentimentChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.labels,
          datasets: [{
            label: 'Índice de Sentimiento',
            data: data.sentimentIndex,
            borderColor: chartColors.main,
            backgroundColor: 'rgba(37, 99, 235, 0.2)',
            borderWidth: 2, fill: true,
            pointBackgroundColor: data.labels.map(l => data.events.find(e => e.month === l) ? chartColors.event : chartColors.main),
            pointRadius: data.labels.map(l => data.events.find(e => e.month === l) ? 6 : 4),
            pointHoverRadius: 8
          }]
        },
        options: {
          responsive: true, maintainAspectRatio: false,
          scales: { y: { beginAtZero: true, max: 100, title: { display: true, text: 'Índice de Sentimiento (0-100)', font: { weight: 'bold' } } } },
          plugins: { tooltip: { callbacks: { title: (items) => {
            const m = items[0].label; const ev = data.events.find(e => e.month === m);
            return m + (ev ? `\nEvento: ${ev.text}` : '');
          }}}}
        }
      });
    }

    function renderSentimentTable(rows) {
      sentimentTableBody.innerHTML = '';
      rows.forEach(row => {
        const tr = document.createElement('tr');
        tr.className = 'hover:bg-gray-50';
        tr.innerHTML = `
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${row.mes}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.detractores}</td>
          <td class="px-6 py-4 text-sm"><span class="inline-block px-2 py-1 rounded-md bg-rose-50 text-rose-700 ring-1 ring-rose-100">${row.motivosDet}</span></td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.promotores}</td>
          <td class="px-6 py-4 text-sm"><span class="inline-block px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100">${row.motivosPro}</span></td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.eventos}</td>
          <td class="px-6 py-4 text-sm text-gray-500">${row.competencia}</td>`;
        sentimentTableBody.appendChild(tr);
      });
    }
    function renderSummary(html) { sentimentSummary.innerHTML = html; }
    function updateSentimentContent(country) {
      const data = sentimentData[country]; if (!data) return;
      countryName.textContent = country; renderChart(data); renderSentimentTable(data.table); renderSummary(data.summary);
    }

    /* ==== Etiquetas de categoría ==== */
    function getCategoryTag(category) {
      switch (category) {
        case 'Sanción Legal': return `<span class="bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Cambio de Precio': return `<span class="bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Lanzamiento': return `<span class="bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Fusión/Adquisición': return `<span class="bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Estrategia': return `<span class="bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Producto': return `<span class="bg-orange-100 text-orange-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Resultados Financieros': return `<span class="bg-teal-100 text-teal-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Derechos/Deportes': return `<span class="bg-indigo-100 text-indigo-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        case 'Flagship AI': return `<span class="bg-pink-100 text-pink-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
        default: return `<span class="bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${category}</span>`;
      }
    }

    /* ==== Helpers de fuente (host en texto plano, sin enlace) ==== */
    function sourceHost(u) {
      try { return new URL(u).hostname.replace(/^www\./, ''); } catch { return ''; }
    }

    /* ==== Render tarjetas (Vertiente 2) — sin enlaces ni badge de impacto ==== */
    function renderNewsCards() {
      alertsGrid.innerHTML = '';
      const filtered = newsData.filter(item => {
        const itemCountries = (item.country || '').split(',').map(c => c.trim());
        const countryMatch = newsFilters.country.length === 0 || newsFilters.country.includes('Todos los Países') || newsFilters.country.some(fc => itemCountries.includes(fc));
        const em = newsFilters.company.length === 0 || newsFilters.company.includes('all') || newsFilters.company.includes(item.entity);
        const km = newsFilters.category.length === 0 || newsFilters.category.includes('all') || newsFilters.category.includes(item.category);
        return countryMatch && em && km;
      }).sort((a,b) => {
        const da = new Date((a.date || '').split('-').reverse().join('-'));
        const db = new Date((b.date || '').split('-').reverse().join('-'));
        if (da > db) return -1; if (da < db) return 1;
        const order = { 'Alto':1, 'Medio':2, 'Bajo':3 }; return (order[a.impact]||9) - (order[b.impact]||9);
      });
      newsNoResults.classList.toggle('hidden', filtered.length !== 0);
      filtered.forEach(row => {
        const host = sourceHost(row.url);
        const card = document.createElement('div');
        card.className = 'bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col hover:shadow-xl transition-all duration-300';
        card.innerHTML = `
          <div class="flex-grow">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-gray-800 text-lg">${row.entity}${row.country && row.country !== 'Todos los Países' ? ` (${row.country})` : ''}</h4>
              ${getCategoryTag(row.category)}
            </div>
            <p class="text-gray-700 mb-3">${row.title}</p>
            <p class="text-xs text-gray-500">Fuente: <span class="font-medium">${host || '—'}</span></p>
          </div>
          <div class="text-sm text-gray-500 mt-auto pt-4 border-t border-gray-200 flex justify-between items-center">
            <span>${row.date || ''}</span>
          </div>`;
        alertsGrid.appendChild(card);
      });
    }

    /* ==== Render tarjetas (Vertiente 3) — sin enlaces ni badge de impacto ==== */
    function renderContentNewsCards() {
      contentAlertsGrid.innerHTML = '';
      const filtered = contentNewsData.filter(item => {
        const itemCountries = (item.country || '').split(',').map(c => c.trim());
        const countryMatch = contentFilters.country.length === 0 || contentFilters.country.includes('Todos los Países') || contentFilters.country.some(fc => itemCountries.includes(fc));
        const em = contentFilters.company.length === 0 || contentFilters.company.includes('all') || contentFilters.company.includes(item.entity);
        const km = contentFilters.category.length === 0 || contentFilters.category.includes('all') || contentFilters.category.includes(item.category);
        return countryMatch && em && km;
      }).sort((a,b) => {
        const da = new Date((a.date || '').split('-').reverse().join('-'));
        const db = new Date((b.date || '').split('-').reverse().join('-'));
        if (da > db) return -1; if (da < db) return 1;
        const order = { 'Alto':1, 'Medio':2, 'Bajo':3 }; return (order[a.impact]||9) - (order[b.impact]||9);
      });
      contentNewsNoResults.classList.toggle('hidden', filtered.length !== 0);
      filtered.forEach(row => {
        const host = sourceHost(row.url);
        const card = document.createElement('div');
        card.className = 'bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col hover:shadow-xl transition-all duration-300';
        card.innerHTML = `
          <div class="flex-grow">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-gray-800 text-lg">${row.entity}</h4>
              ${getCategoryTag(row.category)}
            </div>
            <p class="text-gray-700 mb-3">${row.title}</p>
            <p class="text-xs text-gray-500">Fuente: <span class="font-medium">${host || '—'}</span></p>
          </div>
          <div class="text-sm text-gray-500 mt-auto pt-4 border-t border-gray-200 flex justify-between items-center">
            <span>${row.date || ''}</span>
          </div>`;
        contentAlertsGrid.appendChild(card);
      });
    }

    /* ==== Poblar filtros ==== */
    function populateCheckboxes(container, allItems, group) {
      const idBase = group + '-';
      const html = [
        `<div class="filter-checkbox-item"><input type="checkbox" id="${idBase}all" value="Todos los Países" class="mr-2"><label for="${idBase}all">Todos</label></div>`,
        ...allItems.sort().map(c => `<div class="filter-checkbox-item"><input type="checkbox" id="${idBase}${c.replace(/\s/g, '')}" value="${c}" class="mr-2"><label for="${idBase}${c.replace(/\s/g, '')}">${c}</label></div>`)
      ].join('');
      container.innerHTML = html;
    }

    function updateNewsFilters() {
      populateCheckboxes(newsFilterCountryContainer, ALL_NEWS_COUNTRIES.filter(c => c !== 'Todos los Países'), 'news-country-');
      populateCheckboxes(newsFilterCompanyContainer, ALL_NEWS_COMPANIES.filter(c => c !== 'Todos los Países'), 'news-company-');
      populateCheckboxes(newsFilterCategoryContainer, ALL_NEWS_CATEGORIES.filter(c => c !== 'Todos los Países'), 'news-category-');
      newsFilterCountryContainer.addEventListener('change', filterNews);
      newsFilterCompanyContainer.addEventListener('change', filterNews);
      newsFilterCategoryContainer.addEventListener('change', filterNews);
    }

    function updateContentNewsFilters() {
      populateCheckboxes(contentFilterCountryContainer, ALL_CONTENT_COUNTRIES.filter(c => c !== 'Todos los Países'), 'content-country-');
      populateCheckboxes(contentFilterCompanyContainer, ALL_CONTENT_COMPANIES.filter(c => c !== 'Todos los Países'), 'content-company-');
      populateCheckboxes(contentFilterCategoryContainer, ALL_CONTENT_CATEGORIES.filter(c => c !== 'Todos los Países'), 'content-category-');
      contentFilterCountryContainer.addEventListener('change', filterContentNews);
      contentFilterCompanyContainer.addEventListener('change', filterContentNews);
      contentFilterCategoryContainer.addEventListener('change', filterContentNews);
    }

    /* ==== Lógica de filtros ==== */
    function getSelected(container) {
      return Array.from(container.querySelectorAll('input:checked')).map(i => i.value);
    }
    function normalizeSelectAll(container, selectedValues) {
      const allBox = container.querySelector('input[value="Todos los Países"]');
      if (!allBox) return;
      const rest = [...container.querySelectorAll('input[type="checkbox"]')].filter(b => b.value !== 'Todos los Países');
      if (selectedValues.includes('Todos los Países')) {
        rest.forEach(b => b.checked = false);
      } else if (rest.some(b => b.checked)) {
        allBox.checked = false;
      }
    }
    function filterNews() {
      let sc = getSelected(newsFilterCountryContainer);
      let se = getSelected(newsFilterCompanyContainer);
      let sk = getSelected(newsFilterCategoryContainer);
      normalizeSelectAll(newsFilterCountryContainer, sc);
      normalizeSelectAll(newsFilterCompanyContainer, se);
      normalizeSelectAll(newsFilterCategoryContainer, sk);
      sc = getSelected(newsFilterCountryContainer);
      se = getSelected(newsFilterCompanyContainer);
      sk = getSelected(newsFilterCategoryContainer);
      newsFilters.country = sc.includes('Todos los Países') ? [] : sc;
      newsFilters.company = se.includes('Todos los Países') ? [] : se;
      newsFilters.category = sk.includes('Todos los Países') ? [] : sk;
      renderNewsCards();
    }
    function filterContentNews() {
      let sc = getSelected(contentFilterCountryContainer);
      let se = getSelected(contentFilterCompanyContainer);
      let sk = getSelected(contentFilterCategoryContainer);
      normalizeSelectAll(contentFilterCountryContainer, sc);
      normalizeSelectAll(contentFilterCompanyContainer, se);
      normalizeSelectAll(contentFilterCategoryContainer, sk);
      sc = getSelected(contentFilterCountryContainer);
      se = getSelected(contentFilterCompanyContainer);
      sk = getSelected(contentFilterCategoryContainer);
      contentFilters.country = sc.includes('Todos los Países') ? [] : sc;
      contentFilters.company = se.includes('Todos los Países') ? [] : se;
      contentFilters.category = sk.includes('Todos los Países') ? [] : sk;
      renderContentNewsCards();
    }

    /* ==== Tabs & Boot ==== */
    tabButtons.forEach(btn => btn.addEventListener('click', (e) => {
      tabButtons.forEach(b => b.classList.remove('active'));
      e.target.classList.add('active');
      updateSentimentContent(e.target.dataset.country);
    }));
    document.getElementById('news-reset-filters').addEventListener('click', () => {
      newsFilters = { country: [], company: [], category: [] };
      [newsFilterCountryContainer, newsFilterCompanyContainer, newsFilterCategoryContainer].forEach(c => {
        Array.from(c.querySelectorAll('input')).forEach(i => i.checked = false);
      });
      renderNewsCards();
    });
    document.getElementById('content-reset-filters').addEventListener('click', () => {
      contentFilters = { country: [], company: [], category: [] };
      [contentFilterCountryContainer, contentFilterCompanyContainer, contentFilterCategoryContainer].forEach(c => {
        Array.from(c.querySelectorAll('input')).forEach(i => i.checked = false);
      });
      renderContentNewsCards();
    });

    updateSentimentContent('Brasil');
    updateNewsFilters(); renderNewsCards();
    updateContentNewsFilters(); renderContentNewsCards();
  </script>
</body>
</html>
